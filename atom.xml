<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Ruslan Osipov]]></title>
  <link href="http://www.rosipov.com/atom.xml" rel="self"/>
  <link href="http://www.rosipov.com/"/>
  <updated>2018-09-24T05:03:06+00:00</updated>
  <id>http://www.rosipov.com/</id>
  <author>
    <name><![CDATA[Ruslan Osipov]]></name>
    <email><![CDATA[ruslan@rosipov.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Cross-platform vim-plug setup]]></title>
    <link href="http://www.rosipov.com/blog/cross-platform-vim-plug-setup/"/>
    <updated>2018-09-23T07:02:42+00:00</updated>
    <id>http://www.rosipov.com/blog/cross-platform-vim-plug-setup</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve recently switch to <a href="https://github.com/junegunn/vim-plug">vim-plug</a>, a lightweight Vim plugin manager.</p>

<p>It comes with a little <code>.vimrc</code> snippet which downloads the plugin, but it only works for Unix. I use Vim across all three platforms regularly, so I updated the snippet:</p>

<pre><code>" Download and install vim-plug (cross platform).
if empty(glob(
    \ '$HOME/' . (has('win32') ? 'vimfiles' : '.vim') . '/autoload/plug.vim'))
  execute '!curl -fLo ' .
    \ (has('win32') ? '\%USERPROFILE\%/vimfiles' : '$HOME/.vim') . 
    \ '/autoload/plug.vim --create-dirs ' .
    \ 'https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
  autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif
</code></pre>

<p>The above should work across all three major OSes, since Windows 10 recently received <code>curl</code> support.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Minimalist Phone Launcher]]></title>
    <link href="http://www.rosipov.com/blog/minimalist-phone-launcher/"/>
    <updated>2018-08-11T00:00:00+00:00</updated>
    <id>http://www.rosipov.com/blog/minimalist-phone-launcher</id>
    <content type="html"><![CDATA[<p>For the past few years I&rsquo;ve been trying to focus on having more mindful experiences in my life. I find it rewarding to be present in the moment, without my thoughts rushing onto whatever awaits me next.</p>

<p>I present to you the biggest distraction: my phone.</p>

<p>I use to get in touch with people I love. I&rsquo;m more productive at work because I have access to information on the go. I also use my phone to browse Reddit, YouTube, and every other media outlet imaginable. Even worse, sometimes I just waste time tinkering with the settings or mindlessly browsing through the apps I have installed.</p>

<p>It&rsquo;s an attention sink.</p>

<p>Nearly a year ago as I was browsing the Google Play Store I bumped into a new launcher: KISS. The tag line caught my attention: &ldquo;Keep It Simple, Stupid&rdquo;. I went ahead and downloaded the launcher. I haven&rsquo;t changed to another launcher since.</p>

<p>Here&rsquo;s how my home screen looks today:</p>

<p><img src="http://www.rosipov.com/images/posts/kiss-launcher-home-screen.png" title="A screenshot of a KISS launcher home screen." ></p>

<p>There&rsquo;s nothing besides a single search bar. The search bar takes me to the apps I need, web searches I&rsquo;m interested in, or people I&rsquo;m trying to reach out to.</p>

<p>It&rsquo;s simple to use. Start typing an app or a contact name, and the results show up above the search bar:</p>

<p><img src="http://www.rosipov.com/images/posts/kiss-launcher-search-results.png" title="A screenshot of searching for an app with a KISS launcher." ></p>

<p>This simple concept has been responsible for cutting hours upon hours from my phone usage. Opening an app becomes a more deliberate experience, I open my phone with a purpose (granted this purpose might be to kill hours looking at cat videos). There&rsquo;s no more scrolling through everything I have installed just to find something to stimulate my attention for a few more seconds.</p>

<p>You can download the KISS Launcher for Android from <a href="https://play.google.com/store/apps/details?id=fr.neamar.kiss">Google Play Store</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Making a packing spreadsheet]]></title>
    <link href="http://www.rosipov.com/blog/making-a-packing-spreadsheet/"/>
    <updated>2018-03-26T00:00:00+00:00</updated>
    <id>http://www.rosipov.com/blog/making-a-packing-spreadsheet</id>
    <content type="html"><![CDATA[<p>Being the unique person I am, I love traveling. Oftentimes I end up getting deep into trying to optimize my packing methods. There are dozens of tools online designed to help with this exact thing (services like <a href="http://lighterpack.com">Lighterpack</a> or <a href="http://geargrams.com">GearGrams</a>). But, being handy with code, I decided to dabble in the subject on my own.</p>

<p>One of the most important things in packing is the overall weight of the pack, and I always want to know what type of things are the heaviest. I also want to be able to run random queries on my data, whatever it is that I&rsquo;m trying to learn. I want to have an inventory of items (backpacks, clothes, storage solutions) which I can plug in and out of a spreadsheet to see how the resulting picture changes on the go. Working with software as my day job, I’d also like for the solution to be automated whenever possible.</p>

<p>Google Spreadsheets turned out to be the perfect solution, providing the ability to quickly sum up the weight of my things and output insights about the data.</p>

<h2>Final Result</h2>

<p>Here&rsquo;s a <a href="https://docs.google.com/spreadsheets/d/1qDhMoVmmTroM-eN0MZIU2PzE5YucsyPhbuPZPDGhemM/edit#">link to the spreadsheet</a>, I encourage the reader to copy and play around with in anyway you see fit.</p>

<p>Here’s the final result for a multi-day trip I will have for this year. As you can see, my pack weighs around 3 kilograms or a bit over 6 freedom units (not including water). My recently purchased Nintendo Switch is the heaviest item (and it’s worth every gram as it makes flying tolerable), but clothes take up most of the weight:</p>

<p><img src="http://www.rosipov.com/images/posts/packing-spreadsheet.png" title="A screenshot of a packing spreadsheet." ></p>

<p>I use indentation levels to show that some items are contained within other items. This also lets me calculate the absolute and relative weights of a whole container with everything inside of it (see fields labeled “Container” and “Percentage”).</p>

<p>The “Weight” and the “Breakdown” fields indicate absolute and relative item weight respectively, which accounts for quantity of the item (quantity defaults to 1 if not explicitly set). Weight-related fields are color coded from lightest items in green to heaviest items in red.</p>

<p>Categories are used to group items and execute queries on the data and learn insights like these:</p>

<p><img src="http://www.rosipov.com/images/posts/packing-spreadsheet-weight-chart.png" title="A chart representing the weight of each category of items relative to a weight of the whole pack." ></p>

<p>There’s a separate sheet where I enter item names, categories, and weights, which I then use to automatically populate values above and autofill item names in the primary sheet:</p>

<p><img src="http://www.rosipov.com/images/posts/packing-spreadsheet-inventory.png" title="A screenshot of an inventory tab of the packing spreadsheet." ></p>

<h2>The Technical Details</h2>

<p>I haven’t worked with Google Spreadsheets (or Excel for that matter) a lot in the past, but with an access to clear documentation (and a hundred of web searches later) it was straightforward to get the hang of the it.</p>

<p>I started off by manually populating the final result sheet, manually adjusting formulas for Container/Percentage cells, as I had no idea how I would detect the indentation yet. I like when things look pretty, so I applied conditional formatting rules right away, and the looks of the sheet really haven’t changed throughout the process.</p>

<p>Next, I created an inventory sheet, which I wanted to use as a source of data in the resulting sheet. A few Google searches and some trial &amp; error resulted in a lookup formula:</p>

<pre><code>=ArrayFormula(
 IF(
   NOT(ISBLANK($B2)),
   INDEX(InventoryCategories, MATCH($B2, InventoryItems, 0)),
   IF(
     NOT(ISBLANK($C2)),
     INDEX(InventoryCategories, MATCH($C2, InventoryItems, 0)),
     INDEX(InventoryCategories, MATCH($D2, InventoryItems, 0))
   )
  )
)
</code></pre>

<p><code>ArrayFormula</code> is necessary in order to create arrays on the fly without printing intermediate results in the spreadsheet. <code>InventoryItems</code> and <code>InventoryCategories</code> are named ranges referring to item names and categories in the inventory sheet. <code>MATCH</code> finds an index of a first occurrence of the item name in the sheet, and retrieves corresponding category name. An item weight is retrieved by the exact same principle.</p>

<p>Trying to find the container weight took a lot more time, and resulted in a lot more headache. Solution for handling indentation in Google Spreadsheets wasn’t as elegant as I would have hoped for, but it got the job done:</p>

<pre><code>=ArrayFormula(
     SUM(
       $I2:INDIRECT(
         CONCATENATE(
           "$I",
           ROW() + IF(
             NOT(ISBLANK($B2)),
             MATCH(FALSE, ISBLANK($B3:$B), 0),
             MATCH(FALSE, ISBLANK($C3:$C), 0)
           ) - 1
         )
       )
     )
</code></pre>

<p>The formula above finds the first non-empty cell in a column. It starts searching from the next row (for example, for an item on a second row, we look at the third row and below). After it knows which row first non-empty cell is in, the formula turns it into a string (column $I contains item weights) and use it as an upper bound of a sum of the weights. Finished formula is a bit longer (it adds sugar to only display the number when needed), and if you’re interested - you can look it up in the spreadsheet.</p>

<p><img src="http://www.rosipov.com/images/posts/packing-spreadsheet-indentation.png" title="A screenshot used for explaining indentation logic." ></p>

<p>For example, in the screenshot above, the formula will start looking at cells in a column right after the &ldquo;Packing cube&rdquo;. As soon as it finds a non-empty cell (&ldquo;Nintendo Switch case&rdquo;), the formula will determine this row to be an upper boundary. The formula then will sum weights starting with a &ldquo;Packing cube&rdquo; row, and up to but not including &ldquo;Nintendo Switch case&rdquo; row.</p>

<p>The rest involved many small tweaks, adding pretty colors, hiding N/A errors and zeroes, and trying to find the perfect shade for column borders.</p>

<p>And, since you made it this far, here’s how the numbers above look in the real world:</p>

<p><img src="http://www.rosipov.com/images/posts/cleveland-trip-backpack-on-off.png" title="Side by side pictures of a packed backpack: open and closed." ></p>

<p>Hopefully you found this useful, or at least somewhat entertaining. There’s a lot of room for improvement, and I aimed to provide a framework and a few basic ideas for building a spreadsheet to accommodate one’s twisted ultralight needs.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My .vimrc, Annotated]]></title>
    <link href="http://www.rosipov.com/blog/my-vimrc-annotated/"/>
    <updated>2018-02-21T15:00:00+00:00</updated>
    <id>http://www.rosipov.com/blog/my-vimrc-annotated</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve been using Vim for anywhere between 5 and 10 years, and my <code>.vimrc</code> is all grown up.  I use  <code>{{{1</code> to annotate folds in my <code>.vimrc</code>, and use <code>zM</code> to close all folds and <code>zR</code> to open all folds (<code>zc</code>, <code>zo</code>, and <code>za</code> respectively close, open, and toggle individual folds). The <code>---</code> lines are simply cosmetic.</p>

<pre><code>" =&gt; Pre-load ------------------------------------------------------------- {{{1

set nocompatible  " Required for many plugins, ensures it's not compatible with 
                  " Vi, which nobody uses at this point.
filetype plugin indent on  " Great answer: https://vi.stackexchange.com/a/10125
</code></pre>

<p><a href="https://github.com/VundleVim/Vundle.vim">Vundle</a> is downright fantastic plugin manager. It allows one to install plugins with <code>:PluginInstall</code> and upgrade plugins with <code>:PluginUpdate</code>. Simple, easy, reliable. Of course you&rsquo;ll need to <a href="https://github.com/VundleVim/Vundle.vim#quick-start">have Vundle installed</a>, which I normally have as a git submodule.</p>

<pre><code>" Required Vundle setup.
set runtimepath+=~/.vim/bundle/vundle
set runtimepath+=$GOROOT/misc/vim
call vundle#rc()

" =&gt; Vundle plugins ------------------------------------------------------- {{{1

Plugin 'gmarik/vundle' " The Vundle itself, to keep itself updated.

" Colorschemes:
Plugin 'NLKNguyen/papercolor-theme'
Plugin 'ajh17/Spacegray.vim.git'
Plugin 'altercation/vim-colors-solarized'
Plugin 'squarefrog/tomorrow-night.vim'
Plugin 'vim-scripts/ScrollColors'  " Allows scrolling through colorschemes.

" Language/tool integration and support:
Plugin 'burnettk/vim-angular'
Plugin 'fatih/vim-go'
Plugin 'christoomey/vim-tmux-navigator'
Plugin 'mileszs/ack.vim'
Plugin 'motemen/git-vim'
Plugin 'nvie/vim-flake8'
Plugin 'pangloss/vim-javascript'
Plugin 'scrooloose/syntastic.git'  " Syntax checker.
Plugin 'tpope/vim-fugitive.git'    " Even better Git support.

" Quality of life:
Plugin 'EinfachToll/DidYouMean'    " For typos during opening files.
Plugin 'ciaranm/detectindent'      " Automatically detect indent.
Plugin 'ervandew/supertab'         " Smarter autocompletion.
Plugin 'junegunn/goyo.vim'         " A plugin for writing prose.
Plugin 'majutsushi/tagbar'         " List tags in a sidebar.
Plugin 'scrooloose/nerdtree'       " A directory tree in a sidebar.
Plugin 'tomtom/tcomment_vim'       " Easy comment blocks with &lt;Leader&gt;cc.
Plugin 'tpope/vim-abolish'         " Extended abbreviation/substition.
Plugin 'tpope/vim-repeat'          " Intelligent repeat with '.'
Plugin 'tpope/vim-surround'        " Work with pairs of quotes/anything.
Plugin 'tpope/vim-unimpaired.git'  " Handy bracket mappings.
Plugin 'tpope/vim-vinegar'         " Enhanced directory browser.
Plugin 'vim-scripts/DirDiff.vim'   " Directory level diff.

" New features:
Plugin 'Lokaltog/vim-easymotion'   " Easy navigation with &lt;Leader&gt;&lt;Leader&gt;w.
Plugin 'kien/ctrlp.vim'            " Hit &lt;C&gt;p for a list of files/buffers.
Plugin 'vim-scripts/Gundo.git'     " Intelligent undo tree.
Plugin 'vim-scripts/vimwiki'       " A personal local Wiki.

if v:version &gt; 703
  Plugin 'SirVer/ultisnips'        " Intricate snippets.
  Plugin 'chrisbra/vim-diff-enhanced'
endif

" =&gt; Plugins configuration ------------------------------------------------ {{{1

" NERDTree: auto close if last window.
function! s:CloseIfOnlyNerdTreeLeft()
  if exists("t:NERDTreeBufName")
    if bufwinnr(t:NERDTreeBufName) != -1
      if winnr("$") == 1
        q
      endif
    endif
  endif
endfunction

" Force Gundo preview to the bottom.
let g:gundo_preview_bottom = 1

" Map Gundo.
nnoremap &lt;F5&gt; :GundoToggle&lt;cr&gt;

" DetectIndent: Enable and configure.
augroup detectindent
  autocmd!
  autocmd BufReadPost * :DetectIndent
augroup END
let g:detectindent_preferred_expandtab = 1
let g:detectindent_preferred_indent = 2

" UltiSnips: Compatibility with YouCompleteMe via SuperTab.
let g:ycm_key_list_select_completion = ['&lt;C-n&gt;', '&lt;Down&gt;']
let g:ycm_key_list_previous_completion = ['&lt;C-p&gt;', '&lt;Up&gt;']
let g:SuperTabDefaultCompletionType = '&lt;C-n&gt;'
let g:UltiSnipsExpandTrigger = "&lt;tab&gt;"
let g:UltiSnipsJumpForwardTrigger = "&lt;tab&gt;"
let g:UltiSnipsJumpBackwardTrigger = "&lt;s-tab&gt;"

" VimWiki: default location.
let g:vimwiki_list = [{
  \ 'path': '$HOME/Dropbox/wiki',
  \ 'template_path': '$HOME/Dropbox/wiki/templates',
  \ 'template_default': 'default',
  \ 'template_ext': '.html'}]

" Map Tagbar.
nnoremap &lt;F8&gt; :TagbarToggle&lt;cr&gt;

" Synastic configuration.
let g:syntastic_always_populate_loc_list = 1  " Make :lnext work.
let g:syntastic_html_checkers = ['']
let g:syntastic_javascript_checkers = ['gjslint', 'jshint']
let g:syntastic_javascript_gjslint_args = '--strict'
let g:syntastic_python_checkers = ['gpylint']
</code></pre>

<p>Most plugins above change slightly change daily Vim workflow: the way one navigates files, replaying actions, working with snippets, minor tweaks to editing - and I highly recommend at least skimming through README of plugins you&rsquo;re interested in so you can incorporate the changes in your workflow.</p>

<p>I have a set of simple defaults I use everywhere, major changes being changing <code>:</code> to <code>;</code> and moving my leader key to a spacebar. Everything else are tiny quality of life tweaks.</p>

<pre><code>" =&gt; Editing -------------------------------------------------------------- {{{1

syntax on

" Indentation settings.
set autoindent
set expandtab
set shiftwidth=4
set softtabstop=4
set tabstop=4

" Disable backups and .swp files.
set nobackup
set noswapfile
set nowritebackup

" Semicolon is too long to type.
nnoremap ; :
vnoremap ; :

" Map leader key.
let mapleader = "\&lt;Space&gt;"

" Use system clipboard.
set clipboard=unnamedplus

" Enable wild menu (tab command autocompletion).
set wildmenu
set wildmode=list:longest,full

" Don't complain about unsaved files when switching buffers.
set hidden

" Make soft line breaks much better looking.
if v:version &gt; 703
  set breakindent
endif

" Pretty soft break character.
let &amp;showbreak='↳ '

" =&gt; Looks ---------------------------------------------------------------- {{{1

set background=dark
colorscheme spacegray

" Set terminal window title and set it back on exit.
set title
let &amp;titleold = getcwd()

" Shorten press ENTER to continue messages.
set shortmess=atI

" Show last command.
set showcmd

" Highlight cursor line.
set cursorline

" Ruler (line, column and % at the right bottom).
set ruler

" Display line numbers if terminal is wide enough.
if &amp;co &gt; 80
  set number
endif

" Soft word wrap.
set linebreak

" Prettier display of long lines of text.
set display+=lastline

" Always show statusline.
set laststatus=2

" =&gt; Movement and search -------------------------------------------------- {{{1

" Ignore case when searching.
set ignorecase
set smartcase

" Fast split navigation.
nnoremap &lt;C-j&gt; &lt;C-W&gt;&lt;C-J&gt;
nnoremap &lt;C-k&gt; &lt;C-W&gt;&lt;C-K&gt;
nnoremap &lt;C-l&gt; &lt;C-W&gt;&lt;C-L&gt;
nnoremap &lt;C-h&gt; &lt;C-W&gt;&lt;C-H&gt;

" Absolute movement for word-wrapped lines.
nnoremap j gj
nnoremap k gk

" =&gt; Misc ----------------------------------------------------------------- {{{1

" Use Unix as the standart file type.
set ffs=unix,dos,mac

" Ignore compiled files.
set wildignore=*.o,*~,*.pyc,*.pyo

" Ignore virtualenv directory.
set wildignore+=env

" Fold using {{{n, where n is fold level
set foldmethod=marker

" =&gt; Fixes and hacks ------------------------------------------------------ {{{1

" Ignore mouse (in GVIM).
set mouse=c

" Fix backspace behavior in GVIM.
set bs=2

" NERDTree arrows in Windows.
if has("win32") || has("win64") || has("win32unix")
  let g:NERDTreeDirArrows = 0
endif

" Increase lower status bar height in diff mode.
if &amp;diff
  set cmdheight=2
endif

" Unfold all files by default.
au BufRead * normal zR
</code></pre>

<p>I have some custom commands and shortcuts I&rsquo;m using, but not too many. I find that I mostly just forget to use shortcuts I make, and I end up deleting lines from this section regularly.</p>

<pre><code>" =&gt; Custom commands ------------------------------------------------------ {{{1

" Trim trailing whitespace in the file.
command TrimWhitespace %s/\s\+$//e

" Command to close current buffer without closing the window.
command Bd :bp | :sp | :bn | :bd

" =&gt; Leader shortcuts ----------------------------------------------------- {{{1

nnoremap &lt;Leader&gt;] &lt;C-]&gt;          " Jump to ctags tag definition.
nnoremap &lt;Leader&gt;p :CtrlP&lt;cr&gt;     " Fuzzy complete for files.
nnoremap &lt;Leader&gt;t :CtrlPTag&lt;cr&gt;  " Fuzzy complete for tags.
nnoremap &lt;Leader&gt;r :redraw!&lt;cr&gt;   " Redraw the screen (for visual glitches).
nnoremap &lt;Leader&gt;w :w&lt;cr&gt;         " Write a file.
</code></pre>

<p>Hope you find this useful and take away a few bits and pieces for your own workflow.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Automating Octorpress Publishing]]></title>
    <link href="http://www.rosipov.com/blog/automating-octopress-publishing/"/>
    <updated>2017-11-14T15:00:00+00:00</updated>
    <id>http://www.rosipov.com/blog/automating-octopress-publishing</id>
    <content type="html"><![CDATA[<p>I really like Octopress. It builds on top of Jekyll to address certain rough edges, and provides ready to go lighting fast blogging platform. It&rsquo;s easily extendible if you know how to code (thanks to a rather clean and well organized code base), and posts are just plain Markdown files.</p>

<p>One issue though - I need to be near a computer to publish and preview the article. This becomes difficult if I&rsquo;m traveling with, say, a tablet.</p>

<p>I have a low end AWS Lightsail instance I use for writing and publishing, but it&rsquo;s not always fun to write when SSHing into a server, and I often write offline - making it even more difficult to move files between where I write and where I publish. And managing images is a nightmare. To resolve this, I set up a few directories I use in Dropbox, and wrote a few scripts to move things around when needed.</p>

<p>Here&rsquo;s a directory structure in Dropbox:</p>

<pre><code>- blog/
  - posts/
    - 2017-11-20-automatic-octopress-publishing.markdown
  - img/
    - input/
      - a-picture-of-a-flower.jpg
    - output/
</code></pre>

<p>I put Markdown files in <code>Dropbox/blog/posts/</code> (and numerous offline editors sync with Dropbox - I&rsquo;m writing this with <a href="https://stackedit.io/app">StackEdit</a>, and I use <a href="https://ia.net/writer/">iA Writer</a> on my tablet). I add my images to <code>Dropbox/img/input/</code>. I  tend to strip metadata from my images and resize them to fit the maximum page width (I don&rsquo;t really care for high resolution pictures, speed is preferred over ability to zoom into a picture). For this, two tools are needed:</p>

<pre><code>sudo apt-get install imagemagick exiftool
</code></pre>

<p>When I&rsquo;m done writing or want to preview an article, I SSH into my AWS Lightsail instance and run <code>sync.sh</code>, a small script which moves posts to a proper directory, processes images and places them in the desired location, as well as starts Octopress instance (this way I can preview my blog on the AWS Lightsail instance). Contents of <code>sync.sh</code> (don&rsquo;t forget to <code>chmod +x</code>):</p>

<pre><code>#!/bin/bash
cd $HOME/Dropbox/blog/img/input
mogrify -resize 832x620 -quality 100 -path $HOME/Dropbox/blog/img/output *.jpg
exiftool -all= $HOME/Dropbox/blog/img/output/*.jpg
cp $HOME/Dropbox/blog/posts/*.markdown $HOME/blog/source/_posts
cp $HOME/Dropbox/blog/img/output/*.jpg $HOME/blog/source/images/posts
cd $HOME/blog
rake generate
rake preview
</code></pre>

<p>I run the above script every time I want to preview the site. I&rsquo;m sure it&rsquo;s easy to set up a daemon to watch for changes in the Dropbox folders, but I don&rsquo;t see the need for that yet. Also, I just statically resize images to a particular resolution (832x620) since all of the pictures I upload have the same aspect ratio, I&rsquo;m sure there&rsquo;s a way to calculate that number on the fly for this script to work with different aspect ratios.</p>

<p>Lastly, when I deployed and committed my changes (still commit and deploy manually out of a habit), I run <code>archive.sh</code>:</p>

<pre><code>#!/bin/bash
mv $HOME/Dropbox/blog/posts/*.markdown $HOME/Dropbox/blog/published
rm $HOME/Dropbox/blog/img/input/*
rm $HOME/Dropbox/blog/img/output/*
</code></pre>

<p>It&rsquo;s not much, but enough to save some manual labor involved in publishing to Octopress.</p>

<!--stackedit_data:
eyJoaXN0b3J5IjpbMTY3OTE1ODIzNl19
-->

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A Trip to Salt Lake City]]></title>
    <link href="http://www.rosipov.com/blog/a-trip-to-salt-lake-city/"/>
    <updated>2017-11-13T15:00:00+00:00</updated>
    <id>http://www.rosipov.com/blog/a-trip-to-salt-lake-city</id>
    <content type="html"><![CDATA[<p><em>This article is a collaboration between my partner and I.</em></p>

<p>Since moving into a studio, I have missed the freedom of taking off randomly, getting to know a different city or state and overall not being tied down to a routine or a location. I love the idea of trivializing travel, so it was only natural to have a random trip at the end of the week.</p>

<p>My partner watches <a href="http://www.thebucketlistfamily.com/">The Bucket List Family</a> on a weekly basis and caught the traveling bug as well. Unfortunately, we are not yet at the level where we can afford a 5 star trip to international locals or have companies pay for our travels (one day!). Our goal was to spend a few days going out of state to break the work week and avoid living for the weekend.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-ready-for-trip-to-slc.jpg" title="Ready for the trip to Salt Lake City." ></p>

<p>We decided to leave Northern California on Thursday afternoon for Salt Lake City, Utah as soon as we were done with work. Roughly 800 miles each way, if one counts exits and driving around sightseeing. Inspired by an acquaintance who travels the world with a folding bike, my partner and we took our bikes with us: a borrowed Brompton folding bike for my partner in the back seat, and my <a href="http://amzn.to/2xT6xT7">ZycleFix Prime</a> mounted on the rack in the rear.</p>

<p><img src="http://www.rosipov.com/images/posts/brompton-bike-in-the-backseat.jpg" title="Brompton bike in the backseat." ></p>

<p>Driving through California, Nevada, and Utah on I-80 was always one of my favorites - and it was nice to share the wonders of the world with my partner. She clocked in a lot more international travel than I did, but only been to a handful of states. It was her first time in Utah and each stop on the way to the Salt Flats exposed us to all kinds of people, different from the type of individuals we typically see inside the Silicon Valley tech bubble. We saw people with different lives, habits, hobbies, and worldviews, which to be perfectly honest, was refreshing.</p>

<p>Throughout the trip, we made it a point not to make any plans and go with the flow &ndash; be it our driving pace, entertainment or food options, or cities we decided to stay the night in. Traveling that way removed the stress associated with finding the perfect location and planning a fun trip. Don’t like the town we stopped at? Let’s keep driving. Enjoy a specific city? Let’s spend the night there. Having issues at a hotel? Back on the road we go.</p>

<p><img src="http://www.rosipov.com/images/posts/beautiful-sky-on-our-way.jpg" title="Beautiful sky as we’re driving on I-80." ></p>

<p>We found a hotel while driving on the I-80 and settled there for the night. Unfortunately the place did not have a strong enough WiFi, which led us to drive to the next town over for coffee and internet to work remotely. We ended up spending 6 hours in the coffee shop making sure that we kept ourselves well caffeinated and the servers well tipped. After a somewhat productive day, we decided to explore the city’s downtown and save the Salt Flats drive for the daytime.</p>

<p>Our Super 8 Motel in Wendover cost us around $70 for the night and was more comfortable than expected. We ended up passing out as soon as we got to the room, exhausted from the day. We tried to stay at cheaper hotels/motels, while avoiding shady looking places. We would most often pick the 2nd or 3rd cheapest option. We never stayed in one place for more than a night and lucked out every time we got ourselves a room. Every room we slept in was clean and we even managed to squeeze in a daily workout before the start of each day.</p>

<p>Keeping a healthy diet on the other hand was a whole other challenge. Between cafes, restaurants and late night cravings, we failed at maintaining proper eating habits and saving on food. We spent around $300 on food alone. Eating is definitely one area for improvement, especially as we decide to travel more. Dieting is hard and dieting on the road is even harder.</p>

<p>On Saturday, we finally headed to Utah and stopped at a rest stop by the Salt Flats. The view was marvelous and cold for an October day. We left the Salt Flats for a mall, City Creek Center, in Salt Lake City where we had another amazingly delicious and unhealthy lunch. To feel better about our life choices, we used our bikes to get some cardio and discover the city on two-wheels. We biked through Memory Grove Park, crashed a wedding, and biked almost to the Capitol. Almost. Due to Salt Lake’s incredible, deadly hills. Next time, SLC, next time we shall conquer you.</p>

<p><img src="http://www.rosipov.com/images/posts/salt-flats-are-gorgeous.jpg" title="Beautiful Salt Flats." ></p>

<p>After a day of biking and testing each other&rsquo;s patience, we decided to go for a date night and talk through our attempts at making life on the road work. Traveling solo is a very different experience than traveling with a partner. We chatted over Brazilian BBQ, another unhealthy choice, and agreed that we needed to include time alone as part of our travel routine and constantly check in with each other.</p>

<p>We headed to the hotel and decided to leave back for California after breakfast on Sunday. Oh, and on the topic of car, the subject of staying in the Prius or camping came up a few times. We even prepared our tents in that event but the cold weather and the thought of a hot shower took priority&hellip; Oh well, hotel Prius will get more use some other time.</p>

<p>In one day, we drove from Utah back to Northern California. We have different memories of the road back. For her, it was long and slow. For me as a driver, it passed within a blink of an eye. Overall, our trip to Utah was a success and we learned a lot:</p>

<ol>
<li>Nothing can replace the freedom associated with the absence of a plan. When there&rsquo;s no agenda or times to be at specific places - you&rsquo;re never late, never in a hurry, and you&rsquo;ve always seen more than you planned for. It allowed us to be surprised and delighted by places we encountered without imposing our pace on said locations.</li>
<li>Taking time for oneself is a necessity when traveling with someone else. Time alone does not always mean actually being alone. It can be whatever works for you as a couple. For us, it’s spending time on our devices while sitting next to each other.</li>
<li>Approaching each location with an open mind. You are not always going to get to travel to exotic <a href="http://www.rosipov.com/blog/him-and-her-whats-inside-the-bag/">places like the Bahamas</a>, but the opportunity to fall in love with a place or its people is always there.</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Him and Her: What's Inside the Bag?]]></title>
    <link href="http://www.rosipov.com/blog/him-and-her-whats-inside-the-bag/"/>
    <updated>2017-10-15T15:00:00+00:00</updated>
    <id>http://www.rosipov.com/blog/him-and-her-whats-inside-the-bag</id>
    <content type="html"><![CDATA[<p>Living in a car for nearly a year made me pick up number of travel-related skills, here and there. Having limited available space forced &ldquo;less is more&rdquo; philosophy on me, and it&rsquo;s something I carried over into more stationary life. Right now I&rsquo;m taking a break from car dwelling and living in a small apartment in Bay Area. It didn&rsquo;t stop my love for travel though, as I&rsquo;m writing this entry on my flight to Nassau, Bahamas. 5 days at the destination, leisure. One of the many weekends I&rsquo;m not home.</p>

<p><img src="http://www.rosipov.com/images/posts/two-backpacks-on-a-bed.jpg" title="Both of our backpacks, bigger is hers." ></p>

<p>I&rsquo;m not traveling alone this time, and my traveling partner has a similar outlook on travel.</p>

<h2>Him</h2>

<p>Less is more. Every trip starts with packing. I use my <a href="http://amzn.to/2xHIV2F">eBags Motherlode Weekender backpack</a>, which is about the perfect size for me when it&rsquo;s compressed tightly. I can probably fit in double the stuff I packed in the backpack, but I love having room in case I pick something up at the destination.</p>

<p>I never have to check in my bag, and it&rsquo;s light enough to carry on my back without any strain. I can explore my destination as soon as I arrive, without the need to find arrangement for my bags.</p>

<p><img src="http://www.rosipov.com/images/posts/his-opened-backpack.jpg" title="My backpack, open." ></p>

<p>I pack minimally, only having two-three sets of each type of clothing. I hand-wash the clothes I wear before I go to bed. I cycle through a total of 3 pairs of undergarments - most dry overnight as I sleep.</p>

<p>Furthermore, all my outfits can be mixed and matched together, so I don&rsquo;t have to worry about pairing tops, bottoms, and shoes. I like to think I have some sense of style to, for those wondering. Most people I meet won&rsquo;t likely see me for more then one-two days in a row, and those who do are not likely to pay attention to my small wardrobe - as long as it looks clean and sharp.</p>

<p>Here&rsquo;s what the clothing items for this trip look like:</p>

<p><img src="http://www.rosipov.com/images/posts/his-stuff-inside-the-backpack.jpg" title="Clothing items inside the backpack." ></p>

<ul>
<li>Business-casual dress-shirt.</li>
<li>Two T-shirts.</li>
<li>Pair of shorts.</li>
<li><a href="http://amzn.to/2zpE3Bf">Icebreaker merino underwear</a>, 2 pairs.</li>
<li><a href="http://amzn.to/2xHk92J">Darn Tough socks</a>, 2 pairs.</li>
<li>Jacket.</li>
<li>Swimming trunks.</li>
<li>Travel towel, for the beach.</li>
<li>Flip flops.</li>
<li>Workout outfit:

<ul>
<li>Tank top.</li>
<li>Shorts.</li>
<li>Sports underwear.</li>
<li>Running sneakers.</li>
</ul>
</li>
</ul>


<p>All of the above is contained within a single <a href="http://amzn.to/2yLgwxz">packing cube</a> and a travel shoe bag.</p>

<p>Doesn&rsquo;t sound like a lot, but it&rsquo;s plenty (add the outfit I&rsquo;m wearing on the plane - pants, T-shirt, sweater, shoes, pair of underwear, socks). The above lets me have outfits for all kinds of events, activities, and anticipated weather at the destination.</p>

<p>My personal hygiene stuff fits in a dettachable bag which comes with the backpack. Not much special here:</p>

<ul>
<li>Toothbrushes.</li>
<li>Toothpaste.</li>
<li>Floss.</li>
<li>Deodorant.</li>
<li>Hairbrush.</li>
<li><a href="http://amzn.to/2zrcN5t">Quick dry scrub net</a>.</li>
<li>Contact lenses.</li>
</ul>


<p>For entertainment and downtime I have my trusty Google Pixel C (with attached keyboard) and a pair of cheap apple ear buds. Bonus point for USB C standard - I only need to use a single charger for my tablet and a phone.</p>

<h2>Her</h2>

<p>Traveling with a space obsessed partner <em>(him: Hey!)</em> has forced me to look at packing in a different way. I first experimented with the idea of minimalism after watching The BucketList Family and avoiding airline fees is always a bonus. With every trips, I refined my set up. While I am not as lightweight and nimble as my partner, I have made significant improvements to my travel routine and picked up a few tips and tricks from him.</p>

<p><img src="http://www.rosipov.com/images/posts/her-opened-backpack.jpg" title="Her backpack, open." ></p>

<p>For example, the <a href="http://amzn.to/2zbhUG2">eBag Weekender</a> was my first real travel purchase, which I made sure to always have ready for use, meaning that it&rsquo;s always stocked with toiletries, travel documents and packing cubes. Given my propensity for sweating, I upgraded to a <a href="http://amzn.to/2yLgwxz">clean/dirty packing cube</a> and a <a href="http://amzn.to/2hJibsQ">charcoal odor remover</a> for my workout outfit.</p>

<p><img src="http://www.rosipov.com/images/posts/her-packing-cubes.jpg" title="Her packing cubes in a backpack." ></p>

<p>For this trip, this is what is inside my bag including the clothes I am wearing to travel:</p>

<p>On me:</p>

<ul>
<li>A tank top.</li>
<li>A hoodie.</li>
<li>A denim jacket.</li>
<li>Lululemon leggings.</li>
<li>Bra and underwear.</li>
<li>Sandals</li>
</ul>


<p>In my luggage:</p>

<p><img src="http://www.rosipov.com/images/posts/her-stuff-inside-the-backpack.jpg" title="What's in her luggage." ></p>

<ul>
<li>Button on shirt.</li>
<li>Tank top.</li>
<li>T-shirt.</li>
<li>Pair of pants.</li>
<li>Pair of shorts.</li>
<li>Rain jacket.</li>
<li>5 pairs of underwear (one is never too prepared in terms of underwear, and this is where I refuse to become a minimalist).</li>
<li>Workout oufit:

<ul>
<li>Leggings.</li>
<li>Dry fit T-shirt.</li>
<li>One pair of socks.</li>
<li>Workout bra.</li>
<li>Sports sneakers.</li>
<li>Bikini</li>
</ul>
</li>
</ul>


<p>Toiletries:</p>

<ul>
<li>Foundation.</li>
<li>Makeup brush.</li>
<li>Travel-friendly lotion.</li>
<li>Natural oil for face washing purposes.</li>
<li>Feminine hygiene soap</li>
<li>Ingrown hair serum.</li>
<li>L&#8217;Instant de Guerlain perfume (while the current bottle takes a lot of space and adds weight, I have yet to find a travel friendly way to carry it).</li>
</ul>


<p>If you haven&rsquo;t noticed, my backpack is bigger, and my setup is a bit heavier. To be perfectly honest, I am not yet fully on board with this whole minimalistic travel but I have got to say, my shoulders are thankful.</p>

<h2>Making Yourself at Home</h2>

<p>We&rsquo;ve learned from <a href="http://thebucketlistfamily.com">the bucket list family</a> that it&rsquo;s really important to unpack as soon as we get to a hotel. Especially since it&rsquo;s easy to do when there&rsquo;s little clothing in the bags. This way we feel at home whenever we go, even if we&rsquo;re just staying at a hotel for a single night. Every item is in it&rsquo;s place, and there&rsquo;s no digging through the bags for clothes or gadgets.</p>

<p><img src="http://www.rosipov.com/images/posts/our-hotel-in-nassau-bahamas.jpg" title="Our hotel in Nassau, Bahamas." ></p>

<p>We&rsquo;ve also found that we really value downtime, every day we travel. Taking time to unwind (however long it needs to be) in the hotel room, a coffee shop, or anywhere else helps take the edge off flying and booking accommodations and the subconscious pressure to have fun as a pair.</p>

<p>We&rsquo;ve learned this the hard way on our first trip together. Our days were packed with activities and sightseeing stops, and we were at each other&rsquo;s throats by the end of the trip. Lesson learned.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Desktop Notifications from Chrome Secure Shell]]></title>
    <link href="http://www.rosipov.com/blog/desktop-notifications-from-chrome-secure-shell/"/>
    <updated>2017-08-04T17:33:16+00:00</updated>
    <id>http://www.rosipov.com/blog/desktop-notifications-from-chrome-secure-shell</id>
    <content type="html"><![CDATA[<p>For the past year or two I&rsquo;ve been working in the cloud. I use Chrome <a href="https://chrome.google.com/webstore/detail/secure-shell/pnhechapfaindjhompbnflcldabbghjo?hl=en">Secure Shell</a> to connect to my machines, and it works rather well. In fact, I moved away from my work Linux/Mac laptops towards an <a href="http://amzn.to/2hv68Ck">HP Chromebook</a>, which fullfilled both requirements I had: a browser and a terminal. One thing I missed about a Linux machine though is lack of <code>notify-send</code>-like functionality, especially when working with long-running builds.</p>

<p>Yesterday I pinged hterm team for assistance with this matter, and turns out recent release of Secure Shell supports Chrome desktop notifications! Furthermore, two amazing engineers (thanks Andrew and Mike!) crafted an <a href="https://chromium-review.googlesource.com/c/601549/3/hterm/etc/hterm-notify.sh">hterm-notify</a> script, which propagates notifications to Chrome, and by extent to desktop!</p>

<p>I made a few tiny changes, mainly since I don&rsquo;t use <code>screen</code>, and tmux sets my <code>$TERM</code> to <code>screen-256color</code> for some reason:</p>

<pre><code>#!/bin/sh
# Copyright 2017 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Write an error message and exit.
# Usage: &lt;message&gt;
die() {
  echo "ERROR: $*"
  exit 1
}

# Send a notification.
# Usage: [title] [body]
notify() {
  local title="${1-}" body="${2-}"

  case ${TERM-} in
  screen*)  # This one's really tmux
    printf '\ePtmux;\e\e]777;notify;%s;%s\a\e\\' "${title}" "${body}"
    ;;
  *)        # This one's plain hterm
    printf '\e]777;notify;%s;%s\a' "${title}" "${body}"
    ;;
  esac
}

# Write tool usage and exit.
# Usage: [error message]
usage() {
  if [ $# -gt 0 ]; then
    exec 1&gt;&amp;2
  fi
  cat &lt;&lt;EOF
Usage: hterm-notify [options] &lt;title&gt; [body]

Send a notification to hterm.

Notes:
- The title should not have a semi-colon in it.
- Neither field should have escape sequences in them.
  Best to stick to plain text.
EOF

  if [ $# -gt 0 ]; then
    echo
    die "$@"
  else
    exit 0
  fi
}

main() {
  set -e

  while [ $# -gt 0 ]; do
    case $1 in
    -h|--help)
      usage
      ;;
    -*)
      usage "Unknown option: $1"
      ;;
    *)
      break
      ;;
    esac
  done

  if [ $# -eq 0 ]; then
    die "Missing message to send"
  fi
  if [ $# -gt 2 ]; then
    usage "Too many arguments"
  fi

  notify "$@"
}
main "$@"
</code></pre>

<p>Throwing this in as <code>~/bin/notify</code> (not forgetting to <code>chmod +x</code> and having <code>~/bin</code> in the <code>$PATH</code>) I can get a notification when a particular long running command is complete:</p>

<pre><code>sleep 30 &amp;&amp; notify Hooray "The sleep's done!"
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Journey of a friend]]></title>
    <link href="http://www.rosipov.com/blog/journey-of-a-friend/"/>
    <updated>2017-05-09T08:00:00+00:00</updated>
    <id>http://www.rosipov.com/blog/journey-of-a-friend</id>
    <content type="html"><![CDATA[<p><em>A close friend of mine has a story similar to mine. She wanted to share it for a while now, and I&rsquo;m humbled she chose my blog as a medium for telling her inspiring story to the strangers on the Internet:</em></p>

<p><img src="http://www.rosipov.com/images/posts/friends-trip-plane.jpg" title="At Narita Airport, Japan." ></p>

<p>I can&rsquo;t count the number of times I have attempted to tell this story on paper. It all started 8 months ago when my then-husband, let&rsquo;s call him Carl, told me that he no longer loved me and was in love with someone else. There are a few moments in life that seem to happen in slow motion and this was one of them. Until then, my life had been being Carl&rsquo;s wife and in the blink of an eye, I had to figure out who I was in a world without Carl. I forced myself to write every thoughts I had, dark, depressed, once a day but it didn&rsquo;t stick. I bought various domain names hoping that it would give me the final push to start writing all this down but all the sites remained &ldquo;under construction&rdquo;. So here is my final attempt to write this up, organize my thoughts and hopefully let someone going through this know that they are not alone. How did I get here? Well funny you should ask, pull up a chair and listen to my tale.</p>

<p>Carl and I met when we were 22 and 18 respectively. It was far from love at first sight but he intrigued me. I had just got out of an unhealthy relationship and wanted something different and Carl was that, unapologetically himself. Up until then, I had always felt pressure to conform to the idea of who others wanted me to be and meeting Carl, who let&rsquo;s be honest was a straight nerd, was surprisingly refreshing and attractive. We dated for 5 years before getting married. We struggled with money throughout the first years of our relationship so when the opportunity to make more at a job I was unqualified for presented itself, we jumped at the chance. We packed our bags and moved for my job. Thus started the beginning of the end. I was so focused on keeping said job that I overworked, became a ball of nerves and lost all desires to do anything outside of work. While I struggled with the demand of the job, Carl found refuge with his younger, funner coworkers. We started living separate lives, which eventually led up to the fateful day when my husband told me that he loved someone else.</p>

<p>I will not bore you with the details of my attempts to become a stable, contributing member of society. It included a lot of sleepless night, Nutella for dinner, and lies. I would smile everyday as I got to work, joked with co-workers and call family members and friends to discuss everything and anything when deep down all I wanted to do was to crawl in a dark place and wallow in my sadness. This period led to a lot of physical and mental changes. I lost 20 pounds in 2 months due to stress but the vain person in me was happy to see myself get skinny. Mentally, I had to come clean to my family and explain to them how I became the first divorced person in a deeply catholic family. I created a smaller, more dependable community of friends, most of them divorced or separated who could provide me with a different perspective. I had to admit to my manager that I could not continue work as is. Maintaining the lies became exhausting and emotionally draining. One had to give and after a heart to heart with my manager, I decided to cash out all my vacation hours and head out to Southeast Asia for a month.</p>

<p>Prior to Southeast Asia, I had never vacationed alone. For the first time in my life, I was in charge of my itinerary and my own entertainment. It was overwhelming. After discussing the trip with veteran solo travelers, I only purchased one ticket. All I knew was my departing and arrival date from and to the US. I arrived at my first stop, Ho Chi Minh City, at midnight on a blazing hot night. The bustle of the city took me aback and made me question the trip in its entirety. I was running away and I knew it. I have always thought of myself as a strong person but dealing with this separation made me feel like a scared kid. Just as I was going through this mental exercise, my cab driver hit a motorcyclist and the impact broke one of his side view mirrors. The driver angrily got out of the car and argued with the individual he had just hit. They spoke in Vietnamese for what felt like hours and came back without explanations. At that point, I was sure that this entire trip was a mistake and if I had spoken the language, I would have asked the driver to turn and drop me back at the airport.</p>

<p>The rest of the drive to the hotel was much calmer with the occasional surprise looks from locals seeing a black tourist through a taxi window at midnight. Blame it on stress, jet lag or even regret but for the first time in months I slept for more than 4 hours. Somewhat invigorated by the night of sleep, I decided to venture into the city to find food. After multiple failed attempts to cross one of the main traffic arteries, I gave up and sat down miserably looking at a bowl of pho from a restaurant located in the same block as my hotel. The Ho Chi Minh City traffic had won once again. I sat by a window seat, staring into the street, dreading the rest of this Southeast Asia trip. To travel Asia required an adventure spirit and it only took me 2 days to recognize that this was not one of my hidden talents. I told myself, only half believing it, that my second stop might be different but deep down, I knew I was on my way to yet another disappointing time.</p>

<p><img src="http://www.rosipov.com/images/posts/friends-trip-sleep.png" title="Screenshot of sleep activity during the trip." ></p>

<p>Bangkok was a life changing stop for my trip and myself as a person. I had contacted a Turkish-based traveler on CouchSurfing visiting Bangkok during the same time. I was excited to meet up with someone that could understand the struggles of being in an unfamiliar country. This guy learned English by watching American sitcoms but did not let his basic knowledge of English or his lack of Thai stop him. It led to some interesting conversations about the meaning of &ldquo;Netflix and Chill&rdquo; and other American colloquialisms. Seeing him tackle the challenges of navigating a foreign city showed me what my journey could look like. Not only did he help me see the wonders of being open to the world, but he also inadvertently started my process of self love. Let me explain. To avoid having to carry a heavy suitcase and pay airline fees, I limited my wardrobe to whatever could fit in a carry-on backpack. As a relatively fashion-focused person, this decision was uncomfortable. With that in mind and the unforgiving sun, I was either dripped in sweat or looking like a lost 1920s explorer. Having someone still think that I looked good in those conditions did wonders for my broken self esteem. We spend 4 adventures filled days and parted ways. We still talk to each other and I am grateful to have encountered him so early on during my trip. I finally embraced the lack of structure and decided to thrive through it. Remember this word &ldquo;Thrive&rdquo;, it will come back later on in this story.</p>

<p><img src="http://www.rosipov.com/images/posts/friends-trip-construction.jpg" title="Temple in Bangkok." ></p>

<p>After Bangkok, I headed to Chiang Mai for the Lantern Festival. Given my positive experience with CouchSurfing, I decided to continue using it  to meet locals and travelers throughout my stops. I used all the lessons learned in Bangkok and forced myself to open up to people. I had a heart wrenching conversation with an American girl trying to find herself in the world despite familial and societal pressures. We quickly bonded and within minutes were sharing our deepest darkest fears. In addition to looking differently at people, I started focusing on things that made me happy. I took a Thai cooking class, a skill I desperately lacked in, and learned Muay Thai. With each new activity I undertook, I felt a change inside of me. I was slowly starting to fall in love with myself.</p>

<p><img src="http://www.rosipov.com/images/posts/friends-trip-market.jpg" title="Cooking class in Chiang Mai." ></p>

<p>Next stop: Singapore. A few coworkers happened to be there around the same time and I had always been intrigued by the country. I experienced the country&rsquo;s renowned cleanliness, mix of cultures and wide array of food options. It was in Singapore that I learned another fact about myself: I loved meeting new people. I struck conversations with random people in elevators, buses or hotels. Not having an itinerary turned out to be a blessing. I ended up extending my time in Singapore and enjoyed some retail therapy from one of the cities&#8217; amazing malls.</p>

<p>My goal for this trip was not only self discovery but also to be fully emerged in each country’s history and culture. So that meant that I purposely landed in each new locations not knowing anything about religious beliefs, language and social norms. It worked in my favor up until I arrived in Kuala Lumpur. On my first day in the country, I had planned to follow my typical plan and visit the national and art museums to learn about Malaysian culture. Unfortunately, I arrived during yellow and red shirt protests. All local attractions were closed and I ended up smack in  a protest. While I am sure I was never in any real danger, being stuck in the middle of a screaming and upset group of people was scary. I took refuge in a nearby mall and ended up being stranded there for 4 hours. No taxis or Ubers wanted to come to my location due to road closures and fears of property damages. With each hour, I got more and more scared and worried. When I was finally able to get to my hotel, I made arrangements to leave the day after to go to Cambodia. I am hoping to go back to KL and get a chance to see all the city has to offer.</p>

<p>After my failure in Malaysia, I landed in Siem Reap defeated. Cambodia was breathtaking. It was the first time that I saw real poverty and luxury in the same location. It was in Siem Reap that I realized how small my problems really were. I saw and talked to people struggling to afford day to day life and here I was suffering from a broken heart. Siem Reap helped me refocus and gave me a different perspective. It wasn&rsquo;t about what my problems were but how I approached them. I was not as powerless as I thought I was. I could make the choice to not let my situations impact me and move forward. There, I met some of the most life-loving individuals. As we were exchanging travel stories and tips, we all realized that we were into the same type of music. One of the members of the group ran to his hotel room and brought back his turntables. We had an impromptu dance party in the middle of Siem Reap. I sang and danced my heart away to familiar songs in a an unfamiliar land with unfamiliar people. At that time, I realized that I was happy. For the first time in months, there were no hidden emotions behind my smile, it was pure happiness and I never wanted it to end.</p>

<p>I went to Angkor Wat at sunrise and felt lost and transported to a different world visiting all the cultural sites of the country. The Tuol Seng prison and the lives lost there forced me to put my life into perspective. I realized the following facts that I knew deep down but up until then was unwilling to accept: 1) I was getting divorced, 2) I was deeply hurt that I wasn&rsquo;t enough for my husband , 3) I still loved Carl and needed to respect his choice, 4) This was not the end for me. Weirdly, coming to these realizations made me calmer. I knew what I had to do. I had to use the remaining days of this trip to try to discover as much as I could about myself.</p>

<p><img src="http://www.rosipov.com/images/posts/friends-trip-skyline.jpg" title="Sunrise at Angkor Wat, Siem Reap." ></p>

<p>Along with self discovery and adventure-filled days came the not-so fun ones. Thanksgiving day landed while I was in Phnom Penh. As an immigrant, Thanksgiving meant spending time with Carl&rsquo;s family. Up until Thanksgiving day, I thought about Carl during my trip but never more than &ldquo;Carl would have loved eating this, or visiting this area or enjoyed talking with this individual&rdquo;. But as I was staring at my plate of mashed potatoes and turkey, I not only felt a overwhelming sense of loss but also felt shame. Only a few hours prior, I was reveling in the country&rsquo;s history and congratulating myself in having a fresh new perspective on life. I could not finish my plate and walked back to my hotel room beaten. For the first time since I started on this adventure, I was happy that I was traveling alone. I spent the rest of my day watching TV locked in my hotel room.</p>

<p>After 3 weeks on the road, I headed back to Vietnam for my last week abroad. For convenience, I reserved a room in the same hotel I had checked at the beginning of this trip. I suddenly realized that the person who checked in 3 weeks ago was not the person who was walking in. I couldn&rsquo;t put my finger on what it was specifically but I felt more confident and more at peace with myself. A former coworker traveling in Ho Chi Minh City at the same time reached out and we connected for dinner. His first words to me were &ldquo;&hellip; so, what is going on, where is your husband?&rdquo; We hadn&rsquo;t seen each other for 4 years and apparently, my social media accounts had become a &ldquo;Eat, Pray, Love&rdquo; tribute. I explained my current situation, no longer ashamed of the fact that I had a failed marriage, and we traded travel stories. He had not left his hotel room until our meeting because he was overwhelmed by the city, especially the traffic. I can&rsquo;t put into words how satisfying it was for me to be able to teach him how to cross the road. I fondly remembered my old self, seating defeated in front of a bowl of pho. I couldn&rsquo;t have engineered a better end to 4 wonderful weeks in paradise.</p>

<p><img src="http://www.rosipov.com/images/posts/friends-trip-boat.jpg" title="On the way to floating market in Can Tho, Vietnam." ></p>

<p>Of course I glanced over many more experiences, people and locations visited. It would take days to write it all. I came back to the US on a high that I knew would not last but I was determined to keep it as long as possible. I had felt true happiness and connected with new people for the first time in 7 months. I was accepted even after I showed my true, deeply flawed self, but most importantly, I met myself. I discovered the foundations of who I was, what made me smile, happy and tick. I realized that I could survive, not just survive, I could thrive in a foreign environment and to commemorate it, I tattooed “Thrive” on my shoulder to always remind myself of that feeling. Told you that word was going to come back.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Prius adventures, a year later]]></title>
    <link href="http://www.rosipov.com/blog/prius-adventures-a-year-later/"/>
    <updated>2017-01-17T01:11:38+00:00</updated>
    <id>http://www.rosipov.com/blog/prius-adventures-a-year-later</id>
    <content type="html"><![CDATA[<p>It&rsquo;s time to write more about my adventures. I&rsquo;ve been traveling and living in my car for nearly a year now, mostly full-time (excluding hotels on infrequent business trips, occasional friends&#8217; couches, or AirBnB a few times I was sick or wanted a home). I&rsquo;d love to share what I&rsquo;ve learned over the past year.</p>

<p><img src="http://www.rosipov.com/images/posts/camping-in-california.jpg" title="Camping in California." ></p>

<p>Here&rsquo;s how a typical conversation with someone who just learned I&rsquo;m living in my car goes:</p>

<h2>You live in <em>that?</em></h2>

<p>Yes I do. I think I need to start from the beginning.</p>

<p>About a year ago I wasn&rsquo;t in a very good place emotionally. I&rsquo;ve been going through a divorce, my dream company declined my job application (spoiler: I got the job this year, yay), and my landlord decided that 12 tiny houses on a property isn&rsquo;t enough and it&rsquo;s time to kick everyone out to build a more dense apartment complex. I didn&rsquo;t do much outside of going to work and sleeping.</p>

<p>I think I saw an opportunity to do something drastic with my life, and I decided to take a leap of faith. I gave away everything I couldn&rsquo;t fit in the back of the car, and set on a road trip across continental United States (after spending a month doing test drives and adjusting my setup dozens of times).</p>

<p>The experience turned out to be more enjoyable than having a house.</p>

<h2>How do you even fit in there?!</h2>

<p>Everyone I talk to thinks the space is really cramped up, and I have to sleep curled into a ball in the trunk (or something along those lines).</p>

<p><img src="http://www.rosipov.com/images/posts/feet-under-blanket.jpg" title="Pictures make it look really cramped up, but it's rather spacious inside." ></p>

<p>I&rsquo;m 5&#8217;11&#8221;, and I have a flat twin-width bed in that&rsquo;s around 7 feet long (it&rsquo;s been awhile since I measured). I sleep on an inflatable pad wrapped in a sleeping bag, on top of another sleeping bag all wrapped in a silk sleeping bag cover - my composite mattress is about 3 inches thick. I use regular blankets and pillows, adding or removing a few depending on the temperature outside.</p>

<p>It&rsquo;s one of the most comfortable beds I&rsquo;ve ever slept on.</p>

<h2>Poor soul, want to crash on my couch?</h2>

<p>This is an offer I get as soon as somebody learns I&rsquo;m living in a car (it&rsquo;s right up there with &ldquo;You must be saving so much money not paying rent!&rdquo;). Most people are really nice, and offer a place to stay. I think it stems from an understandable notion that one probably would only live in a car because of being in a bad situation.</p>

<p><img src="http://www.rosipov.com/images/posts/inside-of-the-car-view-from-the-back.jpg" title="View of the bed from the back of the car." ></p>

<p>Oddly enough I really enjoy the lifestyle, and I always reject the offers (always appreciate them though). Sometimes I contemplate getting a small RV or a van, but I&rsquo;m way to attached to air conditioning on demand and 50 mpg on the highway. But I probably won&rsquo;t need to crash on your couch.</p>

<p>I think the TL;DR here is that majority of people are really nice, once you get out and get to interact with them enough.</p>

<h2>Why on Earth are you still living in a car?</h2>

<p>There&rsquo;s more than one reason at this point. Part of it is that it has become a habit now. The biggest reason is probably all the fun things it has forced me to do.</p>

<p>I&rsquo;ve met a lot of cool people, tried out so many things I would&rsquo;ve never considered trying, and found exciting hobbies I would&rsquo;ve never had otherwise. I&rsquo;m also now in a great shape physically since I usually have to hit up the gym to shower.</p>

<p>It also made me confront my inner demons, since car living tends to consistently provide me with time to be alone with my thoughts - be it driving somewhere, or falling asleep in an area where I wouldn&rsquo;t want to use electronics. I feel more in tune with myself, and I can close my eyes without being afraid of stream of thoughts keeping me awake at night.</p>

<h2>That&rsquo;s cool! What else is inside?</h2>

<p><img src="http://www.rosipov.com/images/posts/before-and-after-bike-rack.jpg" title="Bike rack: before and after." ></p>

<h3>The front</h3>

<p>I try to keep driver&rsquo;s seat and front passenger seat area clean and empty, with storing some low key items in passenger seat leg space &ndash; portable 12V vacuum, water jug, water boiler/thermos.</p>

<p>The front seats are separated from the back by a dark curtain. Unless you shine a (powerful) flashlight inside a car it&rsquo;s almost impossible to tell the curtain is there.</p>

<h3>The back</h3>

<p><img src="http://www.rosipov.com/images/posts/window-cutout-from-the-inside.jpg" title="In addition to curtains I also have custom-made window cutouts." ></p>

<p>One of the passenger seats is lowered to make a bed. The bed is extended with a wooden panel specifically made for this purpose which creates a flat surface about 7 foot long. A mattress with a blanket and some throws creates /a nice homey look.</p>

<p>Under the bed is &ldquo;the basement&rdquo; &ndash; large clear container where I store winter clothes and things I rarely use. If I&rsquo;m camping extra water jugs go here as well. And some bicycle maintenance stuff, and extra pairs of shoes.</p>

<p>I use the other rear passenger seat as my primary relaxing area when I&rsquo;m inside the car. There&rsquo;s a little trashcan stuck to the floor in between the seats.</p>

<h3>Cargo and the bike</h3>

<p>There&rsquo;s an old suitcase I use for organizing various cooking and camping supplies. It&rsquo;s split into nine compartments by some separators I&rsquo;ve put together. This is where I have some freeze dried veggies, spices, grains and pasta, cooking oils, camping pots and pans, equipment for cleaning the dishes, etc. On top of the suitcase is a backpack where I keep clothes. There&rsquo;s also a propane burner, camping table and a chair, as well as a toiletry kit. Dirty laundry goes in a dry bag.</p>

<p><img src="http://www.rosipov.com/images/posts/cooking-supplies-in-the-suitcase.jpg" title="Cooking supplies in a suitcase." ></p>

<p>I also have a bike strapped to the outside of the car, exploring places by bike after arriving to a new city is very rewarding!</p>

<h2>Isn&rsquo;t it dangerous?</h2>

<p>You often read stories of people suffocating in their own cars, and it&rsquo;s something to be aware of. There are a few rules I follow to be safe, and there are three main dangers here:</p>

<ol>
<li>Carbon monoxide poisoning.</li>
<li>Carbon dioxide poisoning.</li>
<li>Extreme temperatures.</li>
</ol>


<p>I sleep with carbon monoxide alarm not far from my head, and my car is a hybrid &ndash; meaning it only turns itself on once in a while when batteries need to be recharged. Sometimes I sleep with my car on, and sometimes not. The alarm never went off so far (it works, I check regularly).</p>

<p>Carbon dioxide (stuff you exhale) poisoning is not a silent killer (unlike carbon monoxide), humans are pretty good at detecting high concentration of CO2 &ndash; panic attack on par with a headache are a rather clear sign of this happening. I keep windows cracked open most of the time, plus my AC is often on.</p>

<p>I love sleeping at low temperatures (50-60F is my comfort zone for snuggling up under a blanket), but if local forecast suggests the temperature will drop below 50F at night - I make sure to sleep with AC on. If it&rsquo;s below freezing - I roll up the windows, otherwise I still keep them cracked open a little.</p>

<p>And if it&rsquo;s really cold and I don&rsquo;t want to run AC all night, or I just feel like I want to stay inside for a bit - I can just get AirBnB for a couple of nights. Speaking of, by pure chance I stayed at Gayle Laakmann McDowell&rsquo;s guest house few weeks ago, and I left with great memories and a signed copy of Cracking the Code Interview. Bonus point for meeting cool people.</p>

<h2>How does Prius AC work anyway?</h2>

<p>This question pops up often enough to address here (along with condensation concerns from seasoned vandwellers).</p>

<p>It&rsquo;s a hybrid with two electric motors assisting the internal combustion engine. The electric motors power up from a ~1.3 kWh battery, which is recharged using the engine and regenerative brakes. That battery is connected to the 12V battery, and as long as there&rsquo;s gas in the car &ndash; both batteries will be charged. In practice, if the car isn&rsquo;t moving, engine turns on every half an hour or so for a little under a minute to recharge the batteries.</p>

<p>This allows one to keep the car on and use the AC throughout the night. AC also keeps the moisture level at bay, preventing condensation. I also noticed that when I don&rsquo;t use the AC cracked windows help with condensation (I have rain guards for stealth and keeping the rain out).</p>

<h2>Um, how do you do bathroom stuff?</h2>

<p>If we&rsquo;re talking about changing - there&rsquo;s plenty of space in the back of the car to change.</p>

<p>For hygiene - I use gym showers (I take quite a lot of classes), or wet wipes if I&rsquo;m out camping or shower is otherwise unavailable. I&rsquo;m now kind of an expert on all sorts of wipes. Any restroom works for brushing my teeth at night, and in US it&rsquo;s very difficult not to be within the vicinity of a public bathroom.</p>

<h2>Where do you park at night?</h2>

<p>Rest stops are the best when I travel, since everyone on a rest stop is just resting/sleeping in their car.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-lit-up-at-night.jpg" title="Christmas lights make inside more homey." ></p>

<p>There are so many places to park: since this is just a passenger car, anywhere where cars can park is good. Usually somewhere with either a lot of foot traffic (or the exact opposite). Parking lots of 24/7 business, residential areas, anywhere and anytime.</p>

<h2>What do your friends and coworkers say?</h2>

<p>Most colleagues and acquaintances don&rsquo;t know, since it&rsquo;s not really a topic that pops up during a normal conversation. I go to work and social events well groomed, with clean clothes, and (I&rsquo;d like to think) demonstrating a sense of style.</p>

<p>Few friends and colleagues that do know that I live in the car don&rsquo;t see it as anything out of the ordinary (past the initial shock of course). I can&rsquo;t remember the last time conversation got stirred towards car living with any of my close friends. A few are rather jealous but reluctant to make the move. I try not to preach.</p>

<p>My love life surprisingly didn&rsquo;t suffer. Maybe it&rsquo;s because I tend to pursue women just as odd as me, but me living in a car didn&rsquo;t have any negative effects, and even got me a date or two. If someone doesn&rsquo;t want to go out with you because of living arrangements - they would probably not make a good partner in a long run.</p>

<h2>Do strangers bother you?</h2>

<p>When you observe people you start noticing how much everyone&rsquo;s concerned with what people think of them. In fact, most people so concerned with themselves - that they don&rsquo;t look around. Encounters with people who notice I live in a car are nearly non-existent. Nobody cares to look inside one of the hundred cars in a parking lot or parked on the side of the street.</p>

<p>I&rsquo;ve had a few rather friendly encounters with parking lot security, with people usually just demonstrating concern. Until I share my setup that is, then concern is often replacement with mild jealousy.</p>

<p><img src="http://www.rosipov.com/images/posts/making-a-meal-at-a-rest-stop.jpg" title="I sometimes make meals at rest stops." ></p>

<p>Most encounters with strangers approaching me happen at rest stops, since I usually don&rsquo;t hide much &ndash; there are enough misfits and travelers. Every encounter like that I&rsquo;ve had was positive, with people commenting on how amazing my setup is, how they wished they could do a similar thing, or sharing a story about their own travels.</p>

<h2>How do you not go crazy?</h2>

<p>This is where the fun part starts. You see, the thing about living in the car is how boring it is. There&rsquo;s really not much you can do in a confined space. So I have to get out of my way to entertain myself.</p>

<p>I take a lot of classes like various martial arts or archery. I tried miniature painting, rock climbing, long distance cycling. There are numerous things I&rsquo;m &ldquo;forced&rdquo; to do in order to keep myself entertained.</p>

<p>There are a lot of things I do inside the car too. Writing or coding (even though I prefer coffee shops), rare indulgence in video games (I recently picked up a gaming laptop for this), guitalele (it&rsquo;s a ukulele-sized guitar), reading. Drawing, keeping a journal, or just relaxing.</p>

<p><img src="http://www.rosipov.com/images/posts/laptop-hooked-up-to-the-headrest.jpg" title="I setup laptop at an eye level and use external keyboard." ></p>

<p>And of course there are people. When I travel I end up meeting a lot of different people. I often get invited to join somebody at a campsite, and we&rsquo;d cook a meal together or share some stories. Or somebody sitting next to me in a coffee shop works in the same industry and we grab lunch to mingle and share interesting ideas. Wherever I go I get lucky enough to make friends for a couple of minutes, hours, days, and sometimes months.</p>

<h2>What&rsquo;s next for you?</h2>

<p>For now, I&rsquo;m used to living in a car. I sometimes pop by AirBnBs or friends&#8217; places for a couple of days, but I wouldn&rsquo;t say I enjoy being tied down to a single location for a long period of time.</p>

<p><img src="http://www.rosipov.com/images/posts/cycling-by-the-ocean.jpg" title="Cycling on the West Coast is the best." ></p>

<p>I&rsquo;m contemplating getting an RV to be able to stand up inside and have more room and privacy, but potential difficulties with air conditioning at night, atrocious gas mileage, and inefficient and noisy generators for my power usage are a concern of mine.</p>

<p>Once in a while I contemplate getting myself an apartment. Since it&rsquo;s now winter I end up staying in AirBnBs more often, but I feel like having a place to call home makes it harder for me to a fight a lazy person inside me. I like when that person is forced to learn, explore, and create.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hackmud first impressions]]></title>
    <link href="http://www.rosipov.com/blog/hackmud-first-impressions/"/>
    <updated>2016-10-09T21:24:26+00:00</updated>
    <id>http://www.rosipov.com/blog/hackmud-first-impressions</id>
    <content type="html"><![CDATA[<p>My Saturday just disappeared, quickly, and barely with any trace. You could find
leftover scripts all over my hard drive here and there, all pointing to Hackmud.
One moment I had plans for the day, and the next it was well past midnight, I
was listening to the 90s hacker movies inspired soundtrack while cracking locks
and farming for credits with a script I crafted.</p>

<p>I&rsquo;ve spent ten hours in game, and it was glorious.</p>

<p><img src="http://www.rosipov.com/images/posts/hackmud-startup-logo.png" title="Hackmud startup logo." ></p>

<p>Hackmud is a text-only MUD (multi-user dungeon) set in a not so distant future,
where humanity was wiped out by a combination of Welsh Measels, killer rabbit
outbreak, and multiple other disasters. All that&rsquo;s left is a trace of old
corporations, dead user accounts, and AIs roaming the net. That&rsquo;s you, an AI.</p>

<p>Game has a heavy 90s vibe to it, and the atmosphere reminds me of Ready Player
One. References to popular TV shows and dial up sounds included.</p>

<p>You start in a training area, a vLAN without access to the rest of the network
and other players. You quickly learn all-text interface, and simple bash-like
command line - it&rsquo;s based on JavaScript, with a few syntax changes. Hackmud is
very much a puzzle game, and lets you take your time with a tutorial: you&rsquo;ll
need a few hours to go through all the puzzles, cracking locks, installing
upgrades, learning about security, and finally - escaping vLAN.</p>

<p>Here are some basics I picked up:</p>

<ul>
<li>You can have multiple user accounts within a game, and so can everyone else.
Be on the lookout.</li>
<li>&ldquo;Locs&rdquo; are account locations, something similar to an IP or a domain name. You
can launch an attack against a user or a dead account if you know their loc.</li>
<li>Scripts are just that - scripts written in JavaScript (outside of the game).
Hit <code>#help</code> and Google to get started, but at least some basic programming
background is necessary here.</li>
<li>Locks protect accounts - one can be behind multiple locks. Lock usually
requires you to guess the correct combination, like a color, correct lower
order prime, or a keyword.</li>
<li>Upgrades are installed on user accounts and include locks, script
slots, character limits, etc.</li>
</ul>


<p>At some point I successfully struggled through the tutorial and escaped vLAN.
And that&rsquo;s where the open-ended social nature of the game shines. You&rsquo;re thrown
into a global chat channel with users trying to trick you into running their
malware, players and corporations providing banking services, selling breached
account information, locks, and scripts.</p>

<p>The game encourages lying, betrayal, deception, ponzi schemes, money laundering
- you name it. And players take advantage of such freedoms to the full extent:</p>

<p><img src="http://www.rosipov.com/images/posts/hackmud-window-screenshot.png" title="This is how the Hackmud gameplay looks.." ></p>

<p>It looks rather confusing, but tutorial prepares you well for the chaotic flow
of characters on the screen.</p>

<p>I really wasn&rsquo;t sure what to do next. The tutorial taught me how to get money
out of dead accounts, so I decided to try to find one or two. After asking about
in the main channel and being offered a few dozen &ldquo;risk free scripts to get locs
worth millions&rdquo;, I decided to set out on a search. I looked through a list of
<code>scripts.fullsec</code>, and found a few corporations.</p>

<p><img src="http://www.rosipov.com/images/posts/hackmud-corporations-screenshot.png" title="Two Hackmud corporations - Macrosoft and Core." ></p>

<p>After digging about in their files for a good few hours, I found a way to get to
employee registry and get a dozen of dead user locs. The locs were protected by
different kinds of locks, and I went through the first batch manually. It took
me a long time to get all the combinations and pull out some cash out of the
accounts.</p>

<p>I found my second batch of locs shortly after, and decided to try automating
some manual attempts through scripting. After struggling with syntax and being
aggravated by having only 120 seconds at a time to crack a lock (in line with
the 90s feel of the game, one needs to be connected to a &ldquo;hardline&rdquo;), I wrote a
first sample script, and started to play around with game concepts.</p>

<p><img src="http://www.rosipov.com/images/posts/hackmud-hardline-dial.png" title="Hardline dial screenshot." ></p>

<p>Hackmud is in no way an accurate hacking simulator, but it&rsquo;s a really fun puzzle
game, and it doesn&rsquo;t make any outrageous mistakes. It allows you to write your
own scripts to use in game using valid JavaScript with access to a game library.
Game developer (it&rsquo;s a one person project) implemented his own JavaScript
interpreter, so it has bugs here and there - one should be careful using obscure
language features.</p>

<p>The worst part about scripting was character limitations: one needs quite a bit
of money to be able to install first upgrades, and default limit of one active
script and 500 characters per script is straight-up rage inducing. Before
getting my first 1MGC to finally upgrade my rig, I wrote a bunch of tiny
scripts, one per lock type, struggling to keep to the character limit. I ended
up with ugly monstrosities like this, manually passing results from one script
to another when encountering multiple accounts:</p>

<pre><code>function(o, g) {
  var
    a = {},
    b = "ez_35",
    c = ["open", "release", "unlock"],
    d = "digit",
    r = "",
    s = false,
    t = g.target.call;

  for (var x in g) {
    if (x != "target") {
      a[x] = g[x];
    }
  }

  for (var i = 0; i &lt; c.length; i++) {
    a[b] = c[i];
    r = t(a);
    if (r.indexOf(d) &gt; -1) {
      for (var k = 0; k &lt; 10; k++) {
        a[d] = k
        r = t(a);
        if (r.indexOf(d) == -1) {
          var m = b + ":\"" + a[b] + "\", " + d + ": \"" + a[d] + "\"";
          return { ok:true, msg:r + "\n\n" + m };
        }
      }
    }
  }
  return { ok:s, msg:r };
}
</code></pre>

<p>It was really interesting working with the limitations:</p>

<ul>
<li>I couldn&rsquo;t write scripts longer than 500 characters (spaces not included).</li>
<li>I couldn&rsquo;t have access to one script without unloading the other first.</li>
<li>I had to debug and test the scripts within 120 second windows.</li>
</ul>


<p>Few more batches of locs later, I was finally able to afford to initialize my
system to tier 1 and install upgrades I bought and accumulated from hacking
accounts:</p>

<p><img src="http://www.rosipov.com/images/posts/hackmud-upgrades-screenshot.png" title="Installed upgrades." ></p>

<p>Now I can write all the scripts I want! Excited, I built my first t1 (tier 1)
lock breaker, which automatically cracks a loc with any number of t1 locks on
it:</p>

<pre><code>function(context, func_args) { // {target:"#s."}

  var digits = Array();
  for (var i = 0; i &lt; 10; i++) {
    digits.push(i);
  }

  var
    COLORS = [
      "purple", "blue", "cyan", "green", "lime", "yellow", "orange", "red"],
    DIGITS = digits,
    LOCKS = ["open", "release", "unlock"],
    // ez_prime lock seems to only request low order primes, hardcoding this
    PRIMES = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59,
      61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137,
      139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193];

  var hackMultLevels = function(target, args, levels) {
    for (var i = 0; i &lt; levels.length; i++) {
      var
        item = levels[i].item,
        itemDesc = levels[i].itemDesc,
        itemList = levels[i].itemList;
      for (var k = 0; k &lt; itemList.length; k++) {
        args[item] = itemList[k];
        ret = target(args);
        if (ret.indexOf(itemDesc) == -1) {
          break;
        }
      }
    }
    return ret, args;
  }

  var hackEz21 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "ez_21", itemDesc: "command", itemList: LOCKS }
      ]);
  };

  var hackEz35 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "ez_35", itemDesc: "command", itemList: LOCKS },
        { item: "digit", itemDesc: "digit", itemList: DIGITS }
      ]);
  };

  var hackEz40 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "ez_40", itemDesc: "command", itemList: LOCKS },
        { item: "ez_prime", itemDesc: "prime", itemList: PRIMES }
      ]);
  };

  var hackC001 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "c001", itemDesc: "correct", itemList: COLORS },
        { item: "color_digit", itemDesc: "digit", itemList: DIGITS }
      ]);
  }

  var hackC002 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "c002", itemDesc: "correct", itemList: COLORS },
        { item: "c002_complement", itemDesc: "complement", itemList: COLORS }
      ]);
  }

  var hackC003 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "c003", itemDesc: "correct", itemList: COLORS },
        { item: "c003_triad_1", itemDesc: "first", itemList: COLORS },
        { item: "c003_triad_2", itemDesc: "second", itemList: COLORS }
      ]);
  }

  var
    args = {},
    i = 0,
    locks = [
      { name: "EZ_21", func: hackEz21 },
      { name: "EZ_35", func: hackEz35 },
      { name: "EZ_40", func: hackEz40 },
      { name: "c001", func: hackC001 },
      { name: "c002", func: hackC002 },
      { name: "c003", func: hackC003 }
    ],
    ret = "",
    target = func_args.target.call,
    unlocked = [];

  ret = target(args);

  while (true) {
    i++;
    var flag = true;

    for (var k = 0; k &lt; locks.length; k++) {
      if (ret.indexOf(locks[k].name) &gt; -1 &amp;&amp;
          unlocked.indexOf(locks[k].name) == -1) {
        ret,  args = locks[k].func(target, args);
        unlocked.push(locks[k].name);
        flag = false;
      }
    }

    if (flag === true) {
      return { ok: true, msg: ret };
    }

    if (i &gt; 10) {
      return { ok: false, msg: ret }
    }
  }
}
</code></pre>

<p>Rather rough around the edges, not easiest to read, but it works - and I was
really proud of finishing it (and too tired to go back and refactor). With this,
next dozen of t1 locs took me a few minutes to crack open. Success!</p>

<p>That was the logical conclusion of my Saturday, and left me feel really
satisfied. The game is rough around the edges, and has numerous bugs here and
there. But the text-only world of Hackmud is alive and atmospheric, and puzzles
and exploration of the derelict world through randomly-generated documents pulls
you in, making you lose track of time.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A year with Pebble Time Round]]></title>
    <link href="http://www.rosipov.com/blog/a-year-with-pebble-time-round/"/>
    <updated>2016-10-05T18:12:59+00:00</updated>
    <id>http://www.rosipov.com/blog/a-year-with-pebble-time-round</id>
    <content type="html"><![CDATA[<p><em>Disclaimer: This post was <strong>not</strong> endorsed by Pebble, nor I am affiliated with
Pebble.</em></p>

<p>About a year ago I&rsquo;ve tried out almost all wearables Pebble had to offer at a
time - the original, Pebble Time, and my favorite - Pebble Time Round. I
wouldn&rsquo;t call myself a fanboy, but Pebble watches are pretty damn great.</p>

<p><img src="http://www.rosipov.com/images/posts/pebble-time-round.jpg" title="Pebble Time Round watch on a wrist." ></p>

<p>Back then I was on a market for a smartwatch - something stylish, inexpensive,
and durable, to show time and notifications. After some research I immediately
ruled out all other wearables on the market: some were too much centered around
fitness (not my market), and some tried to put a computer with a tiny screen on
your hand (I&rsquo;m looking at you, Apple and Google). I wasn&rsquo;t interested in either,
and I was charmed with simplicity of Pebble.</p>

<p>First, I&rsquo;ve gotten <a href="http://amzn.to/2dTaEoR">the original Pebble</a>. I was blown away by the battery
life which neared two weeks, beautiful minimalist design, and the absence of
touch screen. The last one is probably the main reason why I&rsquo;m still using
Pebble.</p>

<p>It&rsquo;s a watch, it has a tiny screen the size of my thumb. How am I supposed to
control it with gestures with 100% accuracy? Unlike with a phone, I interact
with my watch often during more demanding activities - cycling, running, gym,
meeting, etc. Having physical buttons doesn&rsquo;t require me to look at a screen as
I perform an action (quick glance to read a notification is enough - I can reply
or dismiss without having to look at the watch again).</p>

<p>After using the original pebble for a few weeks I was curious to try out <a href="http://amzn.to/2e38eXO">Pebble
Time</a>. I enjoyed having colorful display, the battery life was almost as
long, and the watch felt smaller than the original one. It was a decent choice,
but still couldn&rsquo;t help but feel like a square digital watch doesn&rsquo;t fit my
style.</p>

<p>That&rsquo;s when I decided to try out <a href="http://amzn.to/2dfCN8B">Pebble Time Round</a>. It&rsquo;s the smallest of
the three, and definitely one of the thinnest smartwatches available (at only
7.5 mm). I went for a silver model with a 14 mm strap. Initially there was a
lack of affordable straps, but after some time <a href="https://www.gadgetwraps.com/">GadgetWraps</a> filled in that
niche.</p>

<p>It&rsquo;s been a year now, and it&rsquo;s still going strong. Pebble Time Round (or PTR as
people call it) doesn&rsquo;t have the longest battery life, averaging at about 2 days
until hitting the low power mode (when Pebble watches run low on juice they only
display time). I usually charge it daily, since charging 56 mAh battery doesn&rsquo;t
take long (it gets a full day of use from 15 a minute charge).</p>

<p>PTR is much more a watch than anything else: it looks good, and it shows time.
All the necessary things are available at a glance - calendar, notifications,
texts, weather, music controls, timers and alarms. I use voice dictation to send
out an occasional text.</p>

<p>I work in a corporate setting, with sometimes difficult to manage number of
meetings, constant Hangouts pings, and a stream of emails. Pebble helps me
easily navigate hectic daily routine without having to pull up my phone or my
laptop to look up the next conference room, meeting attendees, or reply to a
quick ping.</p>

<p>Due to app marketplace similar to Google Play Store (with most if not all the
apps and watchfaces free) I find it easy to customize Pebble based on a
situation I&rsquo;m in. I&rsquo;m traveling and need to be able to pull up my flight?
Check. Need to call an Uber from my wrist? Check. Get walking directions? Check.</p>

<p>To my delight Pebble as a platform is rather close to Linux ideology. Pebble
apps are modular and tend to focus on one thing and do one thing well.</p>

<p>Recently a <a href="https://www.kickstarter.com/projects/597507018/pebble-2-time-2-and-core-an-entirely-new-3g-ultra">Kickstarter for Pebble 2</a> has been announced. It&rsquo;s rather
unfortunate PTR is not getting an updated version, but to be honest it doesn&rsquo;t
really need to. It&rsquo;s a fantastic combination of hardware and software which
fills in a specific niche: a stylish smartwatch for displaying relevant chunks
of information.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mob level distribution]]></title>
    <link href="http://www.rosipov.com/blog/mob-level-distribution/"/>
    <updated>2016-10-02T00:15:12+00:00</updated>
    <id>http://www.rosipov.com/blog/mob-level-distribution</id>
    <content type="html"><![CDATA[<p>Distributing mobs in a dungeon based on player&rsquo;s level (or some dungeon level
difficulty factor) was somewhat straightforward, but I would still like to
document the progress. I needed to place a mob that&rsquo;s somewhat within the
difficulty level I want, plus minus a few difficulty levels to spice it up.</p>

<p><img src="http://www.rosipov.com/images/posts/roguelike-leveled-mob-distribution.png" title="Random mob distribution in roguelike dungeon." ></p>

<p>Above you can see three rats, three cats, a dog (<code>r</code>, <code>c</code>, <code>d</code>, all level 1), a
farmer (<code>f</code>, level 2), and a lonely bandit (<code>b</code>, level 3) in a level 1 dungeon.</p>

<p>Without going straight into measure theory, I generated intervals for each mob
based on the diff of desired level and their level, and then randomly selected a
point within the boundaries. Here&rsquo;s the abstract code:</p>

<pre><code>import bisect
import random


def get_random_element(data, target, chance):
    """Get random element from data set skewing towards target.

    Args:
        data   -- A dictionary with keys as elements and values as weights.
                  Duplicates are allowed.
        target -- Target weight, results will be skewed towards target
                  weight.
        chance -- A float 0..1, a factor by which chance of picking adjacent
                  elements decreases (i.e, with chance 0 we will always
                  select target element, with chance 0.5 probability of
                  selecting elements adjacent to target are halved with each
                  step).

    Returns:
        A random key from data with distribution respective of the target
        weight.
    """
    intervals = []  # We insert in order, no overlaps.
    next_i = 0
    for element, v in data.iteritems():
        d = max(target, v) - min(target, v)
        size = 100
        while d &gt; 0:  # Decrease chunk size for each step of `d`.
            size *= chance
            d -= 1
        if size == 0:
            continue
        size = int(size)
        intervals.append((next_i, next_i + size, element))
        next_i += size + 1
    fst, _, _ = zip(*intervals)
    rnd = random.randint(0, next_i - 1)
    idx = bisect.bisect(fst, rnd)  # This part is O(log n).
    return intervals[idx - 1][2]
</code></pre>

<p>Now, if I test the above for, say, a 1000000 iterations, with a chance of 0.5
(halving probability of selecting adjacent elements with each step), and 2 as a
target, here&rsquo;s the distribution I end up with:</p>

<pre><code>target, chance, iterations = 2, 0.5, 1000000

data = collections.OrderedDict([  # Ordered to make histogram prettier.
    ('A', 0), ('B-0', 1), ('B-1', 1), ('C', 2), ('D', 3), ('E', 4),
    ('F', 5), ('G', 6), ('H', 7), ('I', 8), ('J', 9),
])

res = collections.OrderedDict([(k, 0) for k, _ in data.iteritems()])

# This is just a test, so there's no need to optimize this for now.
for _ in xrange(iterations):
    res[get_random_element(data, target, chance)] += 1

pyplot.bar(
    range(len(res)), res.values(), width=0.7, align='center', color='green')
pyplot.xticks(range(len(res)), res.keys())
pyplot.title(
    'iterations={}, target={}, chance={}'.format(
        iterations, target, chance))
pyplot.show()
</code></pre>

<p><img src="http://www.rosipov.com/images/posts/roguelike-mob-distribution-chance-05.png" title="Distribution histogram: 1000000 iterations, 0.5 chance, and 2 as a target." ></p>

<p>You can see elements B-0 and B-1 having roughly the same distribution, since
they have the same weight.</p>

<p>Now, if I decrease the <code>chance</code>, likelihood of target being selected increases,
while likelihood of surrounding elements being selected decreases:</p>

<p><img src="http://www.rosipov.com/images/posts/roguelike-mob-distribution-chance-033.png" title="Distribution histogram: 1000000 iterations, 0.33 chance, and 2 as a target." ></p>

<p>I works the opposite way as well, increasing the <code>chance</code> decreases likelihood
of the target being selected and increases the probability for surrounding
elements.</p>

<p><img src="http://www.rosipov.com/images/posts/roguelike-mob-distribution-chance-09.png" title="Distribution histogram: 1000000 iterations, 0.9 chance, and 2 as a target." ></p>

<p>For the sake of completeness, it works with 0 chance of surrounding elements being picked:</p>

<p><img src="http://www.rosipov.com/images/posts/roguelike-mob-distribution-chance-0.png" title="Distribution histogram: 1000000 iterations, 0 chance, and 2 as a target." ></p>

<p>And an equal chance of picking surrounding elements:</p>

<p><img src="http://www.rosipov.com/images/posts/roguelike-mob-distribution-chance-1.png" title="Distribution histogram: 1000000 iterations, 1 chance, and 2 as a target." ></p>

<p>After playing around with the configuration in Jupyter Notebook, I cleaned up
the algorithm above and included it into mob placement routine.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Spawning evenly distributed mobs]]></title>
    <link href="http://www.rosipov.com/blog/spawning-evenly-distributed-mobs/"/>
    <updated>2016-09-30T18:06:16+00:00</updated>
    <id>http://www.rosipov.com/blog/spawning-evenly-distributed-mobs</id>
    <content type="html"><![CDATA[<p>After generating a few <a href="http://www.rosipov.com/blog/randomly-generated-dungeons/">good looking random dungeons</a>, I was puzzled with
randomly placing mobs on resulting maps. To make it fair (and fun) for the
player mobs should be evenly distributed.</p>

<p><img src="http://www.rosipov.com/images/posts/dungeon-mob-placement.png" title="Dungeon with randomly placed mobs." ></p>

<p>The obvious idea was to pick coordinates randomly within the rectangular map
boundaries, and then place mobs if they have floor underneath them. But this way
I lose control of the number of mobs and risk having a chance of not placing any
mobs at all. Plus, dungeons with bigger surface area would get more mobs - which
sounds somewhat realistic, but not entirely what I was aiming for.</p>

<p>I could improve on the above by rerunning enemy placement multiple times and
select the most favorable outcome - but the solution would be rather naive.</p>

<p>To have control over the number of mobs I decided to place them as I generate
the rooms of the dungeon. There&rsquo;s a trick one can use to get a random element
with equal probability distribution from a sequence of an unknown size:</p>

<pre><code>import random


def get_random_element(sequence):
    """Select a random element from a sequence of an unknown size."""
    selected = None
    for k, element in enumerate(sequence):
        if random.randint(0, k) == 0:
            selected = element
    return selected
</code></pre>

<p>With each iteration the chance of the current element to become a selected item
is 1 divided by number of elements seen so far. Indeed, a probability of an
element being selected out of a 4-item sequence:</p>

<pre><code>1 * (1 - 1/2) * (1 - 1/3) * (1 - 1/4) = 1/2 * 2/3 * 3/4 = 6/30 = 1/4 
</code></pre>

<p>Now all I had to do is to modify this to account for multiple mob placement.
Here&rsquo;s a generalized function above which accounts for selecting <code>n</code> elements
from the sequence with even distribution.</p>

<pre><code>import random


def get_random_element(sequence, n):
    """Select n random elements from a sequence of an unknown size."""
    selected = [None for _ in range(n)]
    for k, element in enumerate(sequence):
        for i in range(n):
            if random.randint(0, k) == 0:
                selected[i] = element
    return selected
</code></pre>

<p>I incorporated logic above into the room generation code, accounted for
duplicates, and ended up with decent distribution results.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Randomly generated dungeons]]></title>
    <link href="http://www.rosipov.com/blog/randomly-generated-dungeons/"/>
    <updated>2016-09-29T23:26:32+00:00</updated>
    <id>http://www.rosipov.com/blog/randomly-generated-dungeons</id>
    <content type="html"><![CDATA[<p>After playing with random dungeon generation for a bit, I seem to be satisfied
with the results:</p>

<p><img src="http://www.rosipov.com/images/posts/random-dungeon-1.png" title="A randomly generated ASCII-dungeon." ></p>

<p>The above is displayed using ADOM notation - <code>#</code> represents a wall, <code>.</code> is a
floor tile, and <code>+</code> is meant to be a closed door. After fiddling about with a
few random dungeon generation ideas, I settled with the following.</p>

<h2>The algorithm</h2>

<ol>
<li>Start with a random point on a canvas.</li>
<li>Create a room with random width and height. Don&rsquo;t worry about walls yet.</li>
<li>Select a few points on the sides of the room, put those in a stack. Save the
direction in which the potential doors would point.</li>
<li>Go through the stack, and try to add a room or a corridor (corridor is just a
room with a width or a height of 1). Higher chance of corridors seems to look
better and results in those wiggly passageways.

<ol>
<li>Try to add a room a few dozen times with different random configurations.
If no luck - give up and grab a new item from the stack. If couldn&rsquo;t
generate a continuation to the corridor - mark it as a loose end, we&rsquo;ll
clean those up later.</li>
<li>If a room was added successfully - add a door where it connects to the
previous room/corridor. Add a floor section if it&rsquo;s a corridor connecting
to another corridor.</li>
<li>At this point one ends up with quite a few interconnected corridors,
merged rooms, and all kinds of fun surroundings (my desired goal).</li>
</ol>
</li>
<li>Do the above until the stack is empty or a desired number of rooms has been
generated.</li>
<li>Clean up the loose ends from step 4.1. Remove loose corridor segments one by
one until intersection with another room/corridor is detected.</li>
<li>Add walls around the rooms and corridors, while also cleaning up any extra
doors we may have left behind when creating merged corridors or rooms.

<ol>
<li>I simply used slightly modified depth first search starting inside any
room and drawing walls wherever I could find floor/door not connected to
anything.</li>
<li>When encountering a door - check if it&rsquo;s surrounded by walls or doors from
the opposite sides. If not - remove the door and replace it with a floor
tile. If any doors were adjucent to the removed door - requeue the door
check on them.</li>
</ol>
</li>
<li>Perform steps 1-7 a few hundred times, saving the resulting dungeons each
time. Pick the best candidate with the most desired features - like a number
of rooms, breadth, square footage, longest corridors, etc.</li>
</ol>


<p>A more detailed explanation of the steps is below. For now, here are a few more
dungeons generated using this method:</p>

<p><img src="http://www.rosipov.com/images/posts/random-dungeon-2.png" title="A randomly generated ASCII-dungeon." ></p>

<p><img src="http://www.rosipov.com/images/posts/random-dungeon-3.png" title="A randomly generated ASCII-dungeon." ></p>

<p><img src="http://www.rosipov.com/images/posts/random-dungeon-4.png" title="A randomly generated ASCII-dungeon." ></p>

<p>I think dungeon generation is far more art than science, and I had a lot of fun
tweaking all the different input parameters:</p>

<ul>
<li>Room size boundaries.</li>
<li>Corridor lengths.</li>
<li>Frequency of corridor occurrences.</li>
<li>Number of exits from the room.</li>
<li>Number of room generation attempts.</li>
<li>Number of dungeon generation attempts.</li>
<li>Final dungeon picking heuristics.</li>
</ul>


<p>Last item on the list is the most interesting one - with few hundred dungeons as
an input, picking the right one is rather important. I ended up settling on
using max priority queue with a rough surface area of the dungeon as a key
(it&rsquo;s more of a breadth, really - how wide and tall it is). Then I&rsquo;d sift
through some top results and pick the one with the most rooms available. This
results in the most fun-looking map which feels up most of the screen, while
still usually not being too cluttered.</p>

<p>Here&rsquo;s a breakdown of a simple scenario:</p>

<h3>Steps 1 and 2</h3>

<p>Pick a random spot on a canvas and generate a room of random size (4 x 3):</p>

<pre><code>....
....
....
</code></pre>

<h3>Step 3</h3>

<p>Select potential spots for doors, let&rsquo;s label them 1, 2, 3.</p>

<pre><code>....2
....
....1
  3
</code></pre>

<p>I went for a uniform distribution by unfolding the rectangle and folding it back
in to get a proper coordinate on the perimeter. Now, stack contains coordinates
of <code>[1, 2, 3]</code> (along with the directions in which they are pointing).</p>

<h3>Steps 4 and 5</h3>

<p>Add a room or a corridor to a connector number 3. We&rsquo;ll be adding the room to
the right of number 3. Let&rsquo;s assume random sends a corridor of length 5 our way.
We&rsquo;re happy with the corridor pointing either up, down, or right - so we let the
random decide again: up.</p>

<pre><code>     4
     .
     .
....2.
.... .
....3.
  1
</code></pre>

<p>We add the end of the corridor to the stack as number 4 (now <code>[1, 2, 4]</code>). We
also mark 4 as a loose end, in case we end up not adding a room to it. Dangling
corridors are never pretty.</p>

<p>Now, to replace number 3 with a door:</p>

<pre><code>     4
     .
     .
....2.
.... .
....+.
  1
</code></pre>

<p>Adding another random corridor of length 2 to the point 4, pointing right.
Replace number 4 with a floor segment, since point 4 was the end of another
corridor. Remove point 4 from loose ends, add point 5.</p>

<pre><code>     ...5
     .
     .
....2.
.... .
....+.
  1
</code></pre>

<p>Take point 5, generate a room of size 3 x 6. 5 becomes a door. Loose ends list
is empty.</p>

<pre><code>     ...+...
     .   ...
     .   ...
....2.   ...
.... .   ...
....+.   ...
  1
</code></pre>

<p>For simplicity&rsquo;s sake, let&rsquo;s assume we don&rsquo;t want any more exits from this room.
Back to the stack of <code>[1, 2]</code>. Point 2 seem to not have much room for growth.
After a few unsuccessful attempts to place a room or a corridor there, we give
up:</p>

<pre><code>     ...+...
     .   ...
     .   ...
.... .   ...
.... .   ...
....+.   ...
  1
</code></pre>

<p>Now for point 1: we get another corridor of length 3. Point 6 is now added to
the loose ends list.</p>

<pre><code>     ...+...
     .   ...
     .   ...
.... .   ...
.... .   ...
....+.   ...
  +
  .
  .
  .
  6
</code></pre>

<p>Let&rsquo;s assume we run out of space and can&rsquo;t add anything to the end of 6. We&rsquo;re
done generating the dungeon. Our stack is empty, and our loose ends contains
coordinates of <code>6</code>.</p>

<h3>Step 6</h3>

<p>Start with the loose end, and remove items one by one until a tile with multiple
neighbors is encountered:</p>

<pre><code>     ...+...
     .   ...
     .   ...
.... .   ...
.... .   ...
....+.   ...
  X
  X
  X
  X
  X
</code></pre>

<p>Viola:</p>

<pre><code>     ...+...
     .   ...
     .   ...
.... .   ...
.... .   ...
....+.   ...
</code></pre>

<h3>Steps 7 and 8</h3>

<p>There are no rogue doors in this scenario, so all we need to do is add  the
walls:</p>

<pre><code>     #########
     #...+...#
     #.###...#
######.# #...#
#....#.# #...#
#....#.# #...#
#....+.# #...#
######## #####
</code></pre>

<p>All of the steps above should be repeated a few hundred times with different
dungeons, and then the best dungeon should be picked as a final one.</p>

<p>Did I miss anything? Was cleaning up &ldquo;loose ends&rdquo; too much of a hack? What
should have I done differently?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Browsing MSSQL and Vertica from CLI]]></title>
    <link href="http://www.rosipov.com/blog/browsing-mssql-and-vertica-from-cli/"/>
    <updated>2016-09-28T18:51:31+00:00</updated>
    <id>http://www.rosipov.com/blog/browsing-mssql-and-vertica-from-cli</id>
    <content type="html"><![CDATA[<p>Notes to make sure I don&rsquo;t forget how to do this in the future. First, install
<code>mssql</code> and <code>vcli</code> tools:</p>

<pre><code>npm install -g sql-cli
pip install vcli
</code></pre>

<p>Encrypt desired database account passwords:</p>

<pre><code>mkdir -p ~/.passwd
echo '$PASSWORD' | gpg --use-agent -e &gt; ~/.passwd/$DB_ACCOUNT.gpg
</code></pre>

<p>Set up a set of aliases with the desired level of flexibility in <code>~/.bashrc</code> to
avoid typing too much:</p>

<pre><code>function _sql-helper-command {
  host=$1
  user=$2
  password=$3
  db=$4
  opt_query_file=$5

  if [ -z $opt_query_file ]; then
    mssql -s $host -u $user -p $password -d $db
  else
    mssql -s $host -u $user -p $password -d $db -q "`cat $opt_query_file`"
  fi
}

function _vsql-helper-command {
  host=$1
  user=$2
  password=$3

  vcli -h $host -U $user -w $password
}

# Usage: `sql` for interactive mode, `sql filename.sql` to execute a file.
function sql {
  opt_query_file=$1

  host='$SOME_HOST'
  user='$SOME_USER'
  password=`gpg --use-agent --quiet --batch -d ~/.passwd/$SOME_FILENAME.gpg`
  db='$SOME_DB'

  _sql-helper-command $host $user $password $db $opt_query_file
}

# Usage: `vsql $VERTICA_HOST`
function vsql {
  host=$1
  user=`whoami`
  password=`gpg --use-agent --quiet --batch -d ~/.passwd/$SOME_FILENAME.gpg`

  _vsql-helper-command $host $user $password
}
</code></pre>

<p>Replace <code>$SOME_USER</code>, <code>$SOME_HOST</code>, <code>$SOME_DB</code>, <code>$SOME_FILENAME</code> above with
specific user, host, DB, and filenames respectively. I usually make a bunch of
aliases for different environments/machines I use: <code>sql-prod</code>, <code>sql-dev</code>,
<code>sql-local</code> or <code>vsql-host1</code>, <code>vsql-host2</code>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Thoughts on travel]]></title>
    <link href="http://www.rosipov.com/blog/thoughts-on-travel/"/>
    <updated>2016-06-05T01:11:00+00:00</updated>
    <id>http://www.rosipov.com/blog/thoughts-on-travel</id>
    <content type="html"><![CDATA[<p>I like traveling. I&rsquo;ve been living on the road on and off for the past half a year, traveling across the US. This whole time I live in my car, and quite frankly, I enjoy it.</p>

<p><img src="http://www.rosipov.com/images/posts/colorado-mountains.jpg" title="View of the highway leading to Colorado mountains.." ></p>

<p>Passing beautiful vistas and not having a place to call home are two sides of the same coin. It&rsquo;s something that gives me time to think.</p>

<p>From a very young age we surround ourselves with objects of comfort. It all starts with toys we have as children. First things we own. Our room. Friends. House. Job. Town. Country. We take comfort in certain parts of the environment. Be it objects, people, or places.</p>

<p>After getting rid of most of my belongings and starting my journey - I felt like a lot of things which made me feel comfortable and safe were gone. It made me feel very exposed to the world.</p>

<p>When objects of comfort are gone, one has to face a lot of their own demons. Issues hidden by a security blanket are let out to roam freely. Living on the road amplifies the experiences I have: the ups are high, and the downs are low. A wider specter of emotions is thrown onto me.</p>

<p>I guess there&rsquo;s a reason why majority of people all live in a similar manner. It&rsquo;s comforting. It&rsquo;s a void inside you that needs filling. It&rsquo;s things we don&rsquo;t want to think about, deal with.</p>

<p>But there&rsquo;s also strength in letting go. Items, places, people. Thoughts. Ideas. It&rsquo;s a way of growth. To become a better version of yourself, you need to be destroyed a little. Deal with the darkness within.</p>

<p>Some days it&rsquo;s exhausting, some days it&rsquo;s revitalizing. But that&rsquo;s why I do what I do.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Living in a car for 5000 miles]]></title>
    <link href="http://www.rosipov.com/blog/living-in-a-car-for-5000-miles/"/>
    <updated>2016-02-22T16:27:52+00:00</updated>
    <id>http://www.rosipov.com/blog/living-in-a-car-for-5000-miles</id>
    <content type="html"><![CDATA[<p>I have set on my journey across the United States and back a few months ago.
It&rsquo;s a fun thing to do, and really gave me a breath of fresh air. I watched
elephant seals and whales on a California coast, spent what felt like days
stuck in LA traffic, ran from a blizzard, made it through a flash flood, passed
a tornado, celebrated New Year&rsquo;s on the road&hellip;</p>

<p>But don&rsquo;t let me get ahead of myself.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-with-the-hills-behind-it.jpg" title="Prius with a beautiful view on the hills behind it." ></p>

<h2>What&rsquo;s inside</h2>

<p>My path started in San Francisco Bay Area, a place I&rsquo;ve been lately calling
home. I tried out <a href="http://www.rosipov.com/blog/urban-prius-living/">living out of a Prius</a> before, thus not having a sturdy
place to call home wasn&rsquo;t really a shock. After only a few weeks I didn&rsquo;t feel
like anything is out of place - being on a road feels just as normal as renting
a house.</p>

<h3>Living areas</h3>

<p>First - the packing and organization. Just like in any living space, zoning is
important. Space inside a car is separated into 5 major areas:</p>

<ul>
<li>A driver&rsquo;s seat, used solely for driving. No other activities are permitted,
and the less time is spent in the driving seat - the better. This helps one
to stay alert when on a road.</li>
<li>Front passenger seat. There&rsquo;s not enough room to sit here due to the seat
being moved to the front all the way (to give the most space for the bed). I
usually just keep a backpack here (which I always take with me, so this area
stays empty when I&rsquo;m not in the car).</li>
<li>Rear passenger seat behind a driver. This is a primary seat for activities -
reading, fiddling around with a laptop, having some tea or a snack. A cooler
is taking up the leg space, but it&rsquo;s never a problem: in the wilderness I put
it outside, and nine times out of ten I don&rsquo;t want to sit with my legs down
(since that&rsquo;s the position I drive in).</li>
<li>A bed. Level surface, approximately 6 and a half feet long. Sleeping mat,
winter queen sized sleeping bag folded in two as a second mattress, a summer
sleeping bag, two pillows, and a plaid on top (for added coziness).</li>
<li>Additional cargo storage under the bed. Water supply, out-of-season clothes,
shoes.</li>
<li>Cargo area in the rear. A suitcase with food and clothes, toiletry kit, and
miscellaneous stuff. Some things I don&rsquo;t access often are in a secondary cargo
compartment Prius has underneath the cargo surface.</li>
</ul>


<p><img src="http://www.rosipov.com/images/posts/view-of-prius-interior-from-the-rear.jpg" title="View of the car interior with the rear door open: suitcase on the left, and a bed on the right." ></p>

<p>After about a week, moving between the areas within a car becomes surprisingly
easy and natural. I usually put on a hand brake, lock the car, leave my shoes
in a driver&rsquo;s seat and move to the back sit or the bed.</p>

<h3>Food, water, and cooking</h3>

<p>Being prepared is essential for living on the road, so I keep a lot of food and
water in the car. I make it a rule of thumb to keep 6-8 3-liter water jugs in
the car, which amounts to 18-24 liters (5-6 gallons) of drinking water.</p>

<p>For boiling water I use <a href="http://amzn.to/1Pj5kpe">RoadPro Smart Car Pot</a>. I&rsquo;ll upgrade to something
better eventually, since it requires me to plan too far in advance - it takes
20-25 minutes to get water to boil.</p>

<p>I also have teabags and coffee with me. I used to have instant coffee, but it
tastes terrible compared to the real thing. Now I use a simple one-cup coffee
maker (the one where coffee drips through a funnel) to brew my pre-ground
coffee.</p>

<p>When it comes to food - I use rice, grains, and pasta as a base for some meals.
Canned goods like corn, peas, mixed veggies, pasta sauce, or chili add a nice
touch to the base. I heat up canned soups with a backpacking stove when I&rsquo;m not
in the mood for cooking whole meals or doing the dishes.</p>

<p><img src="http://www.rosipov.com/images/posts/making-dinner-in-the-dark.jpg" title="Making dinner in the dark." ></p>

<p>I have a <a href="http://amzn.to/1Pj5BbN">16-qt Stanley Adventure Cooler</a> which keeps items inside cold for
nearly three days (or practically indefinitely if I&rsquo;m up in the mountains where
it&rsquo;s cold). When I&rsquo;m preparing to be out in the wild, I fill it up with eggs,
meat, cheese, veggies, fruits, and berries.</p>

<p>In addition to everything listed above I always carry 6 days worth of MREs and
water in an <a href="http://amzn.to/1meZgWz">emergency backpack</a> underneath in the cargo compartment in case
I am ever stranded somewhere.</p>

<h3>Washing the dishes</h3>

<p>For cleaning my cookware I&rsquo;m using a backpacking approach I&rsquo;ve read about on
<a href="http://www.wikihow.com/Clean-Dishes-on-a-Camping-Trip#Spray_and_Wash_sub">WikiHow</a>. I spray the dishes with some natural cleaning solution, let them
sit for a bit, wipe it off with paper towels, and then thoroughly rinse
degreased dishes off in a 5-liter travel kitchen sink.</p>

<h3>Clothing</h3>

<p>Most of my clothing is pretty regular - pants, T-shirts, shirts, cardigans,
sweaters, jackets. However I did switch to using merino wool for all my base
layers: underwear, socks, compression tops and bottoms. While being
significantly more expensive, merino wool is much more comfortable to wear, and
it stays clean for much longer than normal clothes.</p>

<p>All the things I wear day to day fit in a backpack. When I stayed in New York
City for a few weeks without a car I had everything I needed in it:</p>

<p><img src="http://www.rosipov.com/images/posts/backpack-filled-with-stuff.jpg" title="Backpack filled with clothes." ></p>

<p>In addition to all of the above, I carry a few pairs of shoes and an additional
outer layer I wear when I anticipate to be near a campfire. That goes in a
storage bin under the bed.</p>

<h3>Laundry</h3>

<p>I started with visiting laundromats and just carrying a lot of coins with me.
But after a while, a number of items which require hand washing or delicate
care have increased - mostly due to above specified merino wool base layers.</p>

<p>I&rsquo;ve been looking for an excuse to try out <a href="http://amzn.to/1QdUGjt">Scrubba wash bag</a> I&rsquo;ve heard so
much about - basically a dry sack for washing clothes. I found it to be quite
convenient and not at all cumbersome to use.</p>

<p>While I still use laundromats for washing bulkier items, I hand wash my easy to
clean and quick to dry base layers.</p>

<h3>Sleeping</h3>

<p>A self-inflating sleeping pad and a winter queen-sized sleeping bag folded in
half create a great mattress. I sleep in a summer sleeping bag, with an added
sleeping bag liner and a few travel pillows.</p>

<p>I run AC in the car throughout the night. While keeping the temperature
pleasant, it tends to dry out the air and results in a major case of a sore
throat in a morning. I use a small travel humidifier which connects to a USB
power supply to regulate the humidity in the car at night.</p>

<h3>Entertainment</h3>

<p>Boredom seems to never be a concern with this lifestyle. I use laptop for rare
acts of writing, and a Kindle for reading during the little downtime I have. I
also have a little harmonica I hope I&rsquo;ll learn to play one day. And some
juggling balls I throw around once in a while.</p>

<h2>A few words on stealth</h2>

<p>While I enjoy staying at campsites, a large portion of my journey involved
staying in urban areas. Looking inconspicious is a big deal when you&rsquo;re relaxing
in a car - it&rsquo;s not fun when somebody comes knocking on your door (didn&rsquo;t happen
to me though).</p>

<p><img src="http://www.rosipov.com/images/posts/hiding-in-plain-sight.jpg" title="Hiding in plain sight between rental cars." ></p>

<p>The fact that it&rsquo;s a white-ish Prius helps a lot. Car dwelling is not a first
thing people think when they see a tiny city car parked on the side of the road.
Tinted windows (heavier tint in the rear, lighter in the front) are enough to
shield the dweller from the passers by. A blackout curtain separating the front
seats from the back area and covering rear windows is enough to cover one from
curious eyes peering inside the car.</p>

<p>Here&rsquo;s how the car looks in ful lighting with the curtains down, if you look
closely you can see the black fabric behind the seat backs. But most likely
you&rsquo;ll just pass the car:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-in-an-underground-parking-garage.jpg" title="Prius in an underground parking garage with the curtains down." ></p>

<p>Finding a place to stay boils down to four simple steps for me:</p>

<ol>
<li>Drive around in advance, find a place where it&rsquo;s easy to blend it. I prefer a
balance between empty and fully crowded lots. Avoid parking at a chosen area
until later in the evening.</li>
<li>Arrive late, hide in plain sight, park near similar cars. Don&rsquo;t tuck in
somewhere far and look suspicious.</li>
<li>Be respectful to whichever place you picked for the night. If possible, leave
it cleaner than it was when you arrived. Try not to be in and out of the car
too much either.</li>
<li>Leave early. Do not stay at one place multiple nights in a row. Avoid easily
recognizable patterns when returning to the same spot.</li>
</ol>


<h2>Final thoughts about my journey</h2>

<p>I traveled for an approximate of three weeks, and ended up hunkering down in New
York City for another month while leaving a car outside the city.</p>

<p>I gave up my apartment back in Bay Area for the duration of the travel, and it
feels liberating. It&rsquo;s comforting to know that one doesn&rsquo;t need to own a place
to live a happy and fulfilled life. Even further, living in NYC for weeks with a
single backpack worth of posessions and realising I don&rsquo;t need anything else was
an eye opening experience.</p>

<p><img src="http://www.rosipov.com/images/posts/beautiful-vista.jpg" title="Beautiful vistas I wake up to." ></p>

<p>Turns out I really don&rsquo;t need much stuff to enjoy life.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Prius camper conversion]]></title>
    <link href="http://www.rosipov.com/blog/prius-camper-conversion/"/>
    <updated>2015-09-19T19:50:01+00:00</updated>
    <id>http://www.rosipov.com/blog/prius-camper-conversion</id>
    <content type="html"><![CDATA[<p>As requested, I took some detailed pictures of the
<a href="http://amzn.to/1NvY78S">Prius Camper Conversion Kit</a> I mentioned in my <a href="http://www.rosipov.com/blog/urban-prius-living">previous article</a>. It
adds valuable space to the back of the car when the seats are down, and helps to
push down the seats all the way in order to achieve a level surface. This
particular kit works for third generation of Prius, but can be slightly
modified to fit other models. In theory, something like this can work with any
car, as long as the rear seats can be forced down all the way to create a flat
surface (170 pounds of my bodyweight was enough to flatten out the seat back).</p>

<p>This is how the final conversion looks, with a mat cut to a custom shape on top
of it:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-final.jpg" title="This is how the final conversion looks." ></p>

<p>A wooden platform which is used to fill up rear leg space. Notice the blue
strap on the rear seat, that&rsquo;s what pushes down the seat to create a level
surface:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-with-the-mat-up.jpg" title="Wooden surface underneath the mat." ></p>

<p>The lid can be removed for storage space access:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-with-the-lid-off.jpg" title="Wooden platform with the lid off." ></p>

<p>It&rsquo;s a relatively thin wooden platform. Top (on the picture) side of it is a
bit slanted to fit on a rear seat back:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-wooden-platform-top.jpg" title="Top view of the wooden platform." ></p>

<p>View from the bottom: metal pieces are there to hold platform legs when the
platform is not in use, but I don&rsquo;t find them necessary. Additional (darker)
piece of wood is what the lid rests on:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-wooden-platform-bottom.jpg" title="Bottom view of the wooden platform." ></p>

<p>View from the side:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-wooden-platform-side.jpg" title="Side view of the wooden platform." ></p>

<p>With passenger front seat pushed all the way forward (and seat back in further
possible forward position), wooden supports are inserted into exposed seat
railing. I added some duct tape layers at the bottom of each leg so that they
don&rsquo;t wobble when the wooden platform is removed.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-wooden-legs.jpg" title="Wooden supports for the platform." ></p>

<p>Here&rsquo;s a right leg:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-wooden-legs-right.jpg" title="Right wooden support." ></p>

<p>I noticed that the left leg needed to be approximately 5 mm longer in order for
the platform not to wobble, so I extended it with whatever I had on hand:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-wooden-legs-left.jpg" title="Left wooden support." ></p>

<p>Adjustable belt with a hook on one side and a strap tie on the other:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-belt-with-a-hook.jpg" title="Belt with a hook." ></p>

<p>On the back side of rear seats there are places to secure a baby seat. I removed
the plastic covers (use some force), and attached a strap there. I added a piece
of cloth to (hopefully) prevent damage to seat fabric:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-belt-on-the-rear-seat.jpg" title="Belt on the rear seat." ></p>

<p>Tricky part is getting the bottom hook in the right place. Rear seats are held
in place by two metal locks. If you grab a rear seat from the bottom (when the
back is not folded) and pull up with approximately 50-100 pounds of force, the
seat will snap out of the place exposing the lock. Attach a hook to the exposed
part of the locking mechanism. Jump down on a seat to snap the rear seat back in
place. Exercise caution while you make your way through this, took me nearly an
hour to figure out how to properly attach a hook and snap the seat back in
place:</p>

<p><img src="http://www.rosipov.com/images/posts/prius-camper-bottom-hook.jpg" title="Bottom hook on the belt." ></p>

<p>When both sides of the belt are in place, fold the rear seat, push in down with
your body weight, and tighten the belt.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Urban Prius living]]></title>
    <link href="http://www.rosipov.com/blog/urban-prius-living/"/>
    <updated>2015-09-18T19:55:00+00:00</updated>
    <id>http://www.rosipov.com/blog/urban-prius-living</id>
    <content type="html"><![CDATA[<p>Not so long ago I stumbled upon a blog titled <a href="https://chrissawey.wordpress.com/">&ldquo;Hotel Prius&rdquo;</a>, and I loved
the idea. Being a Prius owner myself, I decided to give Prius living a test run.
Being cautious person I am, I decided to give it a test run for a week in a
familiar area.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-in-a-corporate-area.jpg" title="A Prius." ></p>

<h2>Preparing for the journey</h2>

<p>First, I decided to tint my windows. In addition to making a Prius look much
more pleasant, it keeps the car cooler throughout the day, and most importantly
makes it hard to peek inside the car. Especially at night.</p>

<p>Next, I ordered a <a href="http://amzn.to/1NvY78S">Prius Gen III Camping Sleeper Conversion Kit</a>. It&rsquo;s just a
fancy name for two belts to push down the rear seats, and two wooden platforms
with detachable feet to cover leg space. And two custom cut carpet runners to
cover up the panels. Nothing one can&rsquo;t make in their own garage, if the money is
tight.</p>

<p>The kit requires front seats to be locked in the furthest possible position,
rendering them unusable. So I only installed a panel behind a passenger seat.
With the panel installed, I have nearly 7 feet of level surface to sleep on.</p>

<p>Another problem with the kit is that it blocks the console from being opened
(arm rest storage between driver and passenger seat). I stopped using console as
a quick access box, and it doesn&rsquo;t feel like a big loss.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-sleeping-platform.jpg" title="Sleeping platform. Laundry bag at the bottom." ></p>

<p>I packed all my clothes in a duffle bag, bought a small toiletries kit, and put
the rest of my belongings in a backpack. Queen-sized sleeping bag I had came in
handy as a bed (with a couple of travel pillows).</p>

<p><img src="http://www.rosipov.com/images/posts/prius-duffle-bag-and-a-sleeping-bag.jpg" title="Duffle bag with clothes and a sleeping bag." ></p>

<p>After a second night I swapped my sleeping bag with a lighter and more compact
summer sleeping bag. That&rsquo;s also when I added a 1.5 inch sleeping pad to my
inventory.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-in-a-sleeping-position.jpg" title="Prius in a sleeping position, with toiletries kit and a duffle bag on the left, sleeping bag on the right." ></p>

<p><img src="http://www.rosipov.com/images/posts/prius-bed-view-from-drivers-seat.jpg" title="View of a bed from the driver's seat." ></p>

<p>My backpack/briefcase is on the passenger&rsquo;s seat, I always take it with me.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-backpack-on-the-front-seat.jpg" title="Backpack on the passenger seat." ></p>

<p>In addition to all of the above, I took my guitar - even though it&rsquo;s bigger than
anything else I had to take with me, it&rsquo;s a great source of entertainment.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-guitar-and-bed-view.jpg" title="Guitar with a travel pillow on top, old backpack (now replaced)." ></p>

<p>If you&rsquo;re feeling impatient, links to all the items are at the bottom of the
post.</p>

<h2>Sleeping in a Prius</h2>

<h3>Night one</h3>

<p>First night in a Prius left me with mixed feelings. I parked in one of the
corporate areas of the city at about 9 pm. I picked a well lit parking lot with
some (but not much) evening traffic. I parked in one of the slightly darker
areas of the parking lot (approximately one out of twenty parking spots was
taken, and large number of cars made me feel safer).</p>

<p>It was 74F outside, slowly cooling after a 100F day. I left my car in accessory
mode (spoiler: bad idea), turned on the AC, locked the doors, and hopped on my
bedding arrangement to the back of the car. I didn&rsquo;t want to keep the windows
open since I just got them tinted. And sleeping with windows rolled down felt a
bit eerie.</p>

<p>First thing I noticed was how obnoxiously bright instrument panel and GPS are.
It was the opposite of stealthy, and it was plain annoying to sleep with those
bright lights on. I reached out for my duffle bag, and pulled out a couple of
towels to cover up both the instrument panel and GPS, as well as few AC control
LEDs. This made me feel at ease, and I tried to doze off into sleep.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-towels-on-instrument-panel.jpg" title="Towels covering an instrument panel and a GPS." ></p>

<p>The parking lot lights were a minor annoyance, mostly filtered out by a 20% rear
window tint. I&rsquo;ve heard some people pass somewhere within 20 feet of my car a
few times, but other than that it was quiet. Still, unfamiliar situation made it
hard to fall asleep.</p>

<p>And then a few voices and an engine noise disturbed my peace, pretty close to my
car. I waited for about 10 minutes, and the noise didn&rsquo;t go away. I raised my
head to see what&rsquo;s happening - turns out someone had a tire blowout a 2 parking
spots away from me, and a pickup truck pulled in next to them to help with
changing the tire. There were anywhere between 3 and 5 people walking around and
talking.</p>

<p>That&rsquo;s when I quickly got dressed, climbed to a driver&rsquo;s seat, and drove off to
look for a quieter spot. It was 9:55 pm.</p>

<p>I went to a more secluded, but still well lit parking lot behind one of the
offices. Concentration of cars was about the same, but it looked like those cars
were left there overnight. I picked a spot within 50 feet of other parked cars,
where a tree was covering my car from the harsh street light.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-parking-spot-by-the-tree.jpg" title="Parking spot by the tree." ></p>

<p>Accessory mode, AC, lock the doors. Climbed in the back, and after some
restlessness (a fairly normal thing for me), I fell asleep. I woke up sometime
around 11:30 pm. It was fairly hot in the car, and it was hard to breathe. Turns
out accessory mode turned itself off at some point. Maybe the battery ran low,
or maybe there&rsquo;s a time limit of sort. I opened all the doors to air out a car
for a couple of minutes while I walked around and stretched.</p>

<p>In the meantime, I also noticed that because of the tinted windows, it&rsquo;s nearly
impossible to see what&rsquo;s inside the car while only standing a few feet away
from it. That was comforting.</p>

<p>Second attempt, this time I turned on the car the usual way (by depressing the
pedal). I used a foot brake for a peace of mind, set the AC to 68 degrees (with
external air flow setting), locked the car, covered the instrument panel and a
GPS, and climbed in the back.</p>

<p>AC was blowing on my neck, but I was too tired to worry about it. The car cooled
down and I climbed inside a sleeping bag (it was too hot before, and I was just
lying on top of it). I&rsquo;m used to sleeping on hard surfaces, so the setup felt
comfortable enough. The light from surrounding light poles was a bit too harsh,
so I covered my eyes with a T-shirt. I fell asleep.</p>

<p>I woke up a few times throughout the night, but I feel like I&rsquo;ve had enough
sleep. I woke up with the sun at about 6:30 am, got dressed, opened all doors to
ventilate the car, packed away a sleeping bag, and drove to work. I felt well
rested, even though my throat and neck felt a bit sore from the AC directed at
me.</p>

<p>Oh, and it cost me $1.40 to have an AC running through the night. The car would
turn on for about a minute every once in a while (30 minutes?) to recharge the
battery.</p>

<h3>Night two</h3>

<p>This time, I found a perfect spot in a small parking lot behind an office. Less
crowded than the previous time, but still well lit. I got lucky and found a
space with no direct street light being visible when laying down.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-parked-in-a-small-lot.jpg" title="Prius parked in a small parking lot." ></p>

<p>Turn the car on, AC to 68 degrees, lock the doors, hop to the back seat.</p>

<p>I&rsquo;ve slept well for the first couple of hours, but I ended up waking up well
rested at midnight. I stopped by my office and worked for a couple of hours.
Back to the car to get 4 more hours of sleep.</p>

<p>It cost me $1.38 to camp through the night with AC on.</p>

<h3>Night three</h3>

<p>My sleeping bag was too hot to use at room temperature, so I swapped it with a
summer down filled bag. I also purchased a self-inflating sleeping pad for more
comfort.</p>

<p>Things are getting better from now on.</p>

<p><img src="http://www.rosipov.com/images/posts/prius-on-top-of-a-parking-garage.jpg" title="Prius on top of a parking garage." ></p>

<p>Feeling more confident, I found a four-story corporate parking lot and drove to
the top level. I parked at a well-lit spot without any direct lights coming
through the windows. I easily fell asleep a tad bit past nine, and woke up at 6
am refreshed and well rested. Secluded spot, comfortable sleeping pad, summer
sleeping bag, and increased confidence - all contributed to making sleeping in a
Prius a delightful experience.</p>

<p>This was also the night I learned a neat trick: if you recline the driver&rsquo;s seat
all the way, it becomes really easy to move between front seat and a sleeping
area.</p>

<p>Cost of running the car through the night: $1.63.</p>

<h3>Night four</h3>

<p>I decided to camp out in the same multi-level parking garage I did yesterday (it
has high enough number of cars so that I don&rsquo;t stand out - about one per fifty
parking spots; and the foot traffic is very low to non-existent). I found
another part of the garage with a roof access on a second level and pulled in
there. After getting situated, I realized I didn&rsquo;t account for all the lights -
bright parking lot lights from other levels ended up shining right in my face.
And even though I knew I couldn&rsquo;t be seen behind the tinted windows, it did
leave me feeling exposed.</p>

<p>I slid to the driver&rsquo;s seat and drove up a few levels to the previous spot.
Doors are locked, AC is set to 68F, instrument panel is covered, driver&rsquo;s seat
is reclined. I climbed to the back, and fell asleep.</p>

<p>It was a warm night, temperature outside was at 73F. It was hot enough for me to
wake up two times through the night, but that was a minor inconvenience.</p>

<p>Cost: $1.73.</p>

<h3>Night five</h3>

<p>It was one of the chillier nights, so sleeping was a very pleasant experience. I
picked the same spot I used on the third night. Absence of direct lights visible
from the car windows plays a huge role in making you feel safe.</p>

<p>Cost: $1.53 while also bringing Nexus 6 to a full charge.</p>

<h3>Night six</h3>

<p>Picked another spot in a similar area, I parked under a broken street light in a
well lit parking lot. I&rsquo;ve slept well. Mostly due to this being a cooler night
(65F).</p>

<p>Cost: $1.29 while also bringing Nexus 6 to a full charge.</p>

<h3>Night seven</h3>

<p>I was stuck in traffic in the evening, and I fiddled with the GPS for a while.
Turns out you can disable the obnoxiously bright screen by going into &ldquo;Setup&rdquo;
-> &ldquo;Display&rdquo; -> &ldquo;Screen off&rdquo;. Pushing any button on the GPS turns the screen
back on. I&rsquo;m still using the towels to cover up the instrument panel and AC
controls though.</p>

<p>Another fairly cold night, which made sleeping more comfortable. I went back to
the top of the parking garage. Night was a delight.</p>

<p>Cost: $1.39, with full Nexus 6 charging.</p>

<h3>Impressions</h3>

<p>Stealthy living in a Prius is very comfortable. With tinted windows there&rsquo;s just
enough privacy, it&rsquo;s safe and cheap to run AC through the night (cost averages
to about $1.48 per night). There&rsquo;s more than enough space for someone of my
height (5&#8217;11&#8221;). It took me a couple of days to get used to feeling relatively
exposed in public, but once I did - it was a breeze. Last five nights I have
slept without any problems.</p>

<p>Surprisingly, I&rsquo;ve slept better in a Prius than I did in my own bed. Here I
should probably note that I&rsquo;ve been having troubles sleeping on an off for some
time lately, and sleeping through the night in a car was a step up from where I
was before.</p>

<h3>Lessons learned</h3>

<p>Some things I didn&rsquo;t know before trying out sleeping in a Prius:</p>

<ul>
<li>Pick a well lit parking lot, ideally with some cars of similar value parked
overnight. Make sure there&rsquo;s not too much foot traffic.</li>
<li>Park in an area without direct light source near you. Also account for lights
visible from inside the car (light nearly a hundred feet away can still be
bother).</li>
<li>If you&rsquo;re using the AC, turn Prius engine on instead of leaving it in
accessory mode.</li>
<li>Proper AC vent direction is important. Fiddle with those until there are no
drafts in the sleeping area.</li>
<li>Use a sleeping mask to avoid being bothered by the lights if you couldn&rsquo;t find
area without visible light sources shining directly through the windows.</li>
<li>Since the temperature inside the car is regulated, summer sleeping bag is a
must.</li>
<li>Sleeping pad is very helpful in making the surface softer. 1.5 inches made a
huge difference in comfort.</li>
</ul>


<h2>Items I used</h2>

<p><img src="http://www.rosipov.com/images/posts/prius-storage-compartment.jpg" title="Storage compartment. Left to right, top to bottom: a travel pillow, miscellaneous items storage box, sleeping pad, sleeping bag, a book (I'm not an avid reader these days), emergency supplies backpack, 10000 mAh power bank, paper towels." ></p>

<p>Here are the items directly related to the trip which I either purchased or
already owned.</p>

<ul>
<li><a href="http://amzn.to/1NvY78S">Prius Gen III Camping Sleeper Conversion Kit</a>. While not as good of a fit
as something one can make with a garage and a set of tools, it&rsquo;s a quick (but
rather expensive, depending on your situation) solution.</li>
<li><a href="http://amzn.to/1NvXpbA">eBags TLS Mother Lode Weekender Convertible Junior</a>.</li>
<li><a href="http://amzn.to/1iFj0Sb">Kelty Cosmic 550 Dridown Sleeping Bag, Regular/41-Degree</a>. I started a
journey with a sleeping bag I already had around - winter
<a href="http://amzn.to/1Nw0clb">Coleman Calgary Cold-Weather Scoop Sleeping Bag</a>. Needless to say, Kelty
Cosmic 41 is lighter, and by far more compact.</li>
<li><a href="http://amzn.to/1imaIyz">Therm-a-Rest ProLite Plus Sleeping Pad</a>. It&rsquo;s a 1.5 inch tall matress, I
found it to be extremely comfortable.</li>
<li><a href="http://www.rei.com/product/870768/rei-roadtripper-duffel-medium">REI Roadtripper Duffel - Medium</a>. I don&rsquo;t have too many clothes (and I
live in California, taking winter clothing is out of the picture), so
everything fits in a duffel bag.</li>
<li><a href="http://amzn.to/1K5CQPv">Eagle Creek Pack-It Clean/Dirty Cube</a>. Holds underwear and socks, also
doubles as a sealed laundry bag for both.</li>
<li><a href="http://amzn.to/1imbiMJ">Therm-a-Rest Compressible Travel Pillow, Medium</a>. A comfortable pillow
which goes under a sleeping bag.</li>
<li><a href="http://www.rei.com/product/878299/rei-grande-shower-kit-black">REI Grande Shower Kit</a>. It&rsquo;s fairly big and holds all my toiletries.</li>
<li><a href="http://amzn.to/1iFkJqF">Ready America Emergency Kit, 2-Person, 3-Day Backpack</a>. Something I always
have in a car for the peace of mind.</li>
</ul>


<h2>Future improvement ideas</h2>

<p>I have a great stealthy setup, but having more privacy would&rsquo;ve been a nice
bonus. I&rsquo;ll probably look for some inconspicuous looking shades or curtains,
provided that the setup doesn&rsquo;t look too obvious.</p>

<h2>Philosophical implications</h2>

<p>This was an interesting experience. Inability to retreat to the safety of my
house got me out of my comfort zone. Initial discomfort passed quickly, and a
world of possibilities opened up to me.</p>

<p>Not having access to a house made me, well, feel bored. And that&rsquo;s amazing.
Without having an ability to default to a TV, gaming platform, or even a laptop
(it&rsquo;s really not that comfortable to work on a laptop in a car) - I had to get
creative. I got to play a guitar, a piano, sing, practice with a drum set. I
worked on my blog (this article took multiple revisions and hours upon hours of
time to look the way it does now). I went to Mozzart&rsquo;s Don Giovanni publicly
hosted in a nearby town.</p>

<p>And I finished this article, which took me about 8 days of revisions and
additions to finish.</p>

<p>Now, thanks to self-imposed restrictions, I&rsquo;m doing all the things I wanted to
do.</p>

<p>I&rsquo;m a perpetual planner. And that sometimes becomes a problem, since I&rsquo;m always
looking forward to the next thing that&rsquo;s going to happen, sometimes not paying
attention to life right in front of me. With everything I have packed in a car,
there&rsquo;s nothing on the horizon. Nothing is far away. There&rsquo;s no home to go back
to, so I don&rsquo;t rush anywhere. I savor every moment I have.</p>
]]></content>
  </entry>
  
</feed>
