<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Ruslan Osipov</title>
  <meta name="author" content="Ruslan Osipov">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.rosipov.com/">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Ruslan Osipov" type="application/atom+xml">

  <!-- http://opengraphprotocol.org/ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://www.rosipov.com/">
  <meta property="og:title" content="Ruslan Osipov">
  

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">


  
  <link href="/stylesheets/screen.css" media="screen, projection, print" rel="stylesheet" type="text/css">

  
   <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48506044-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>

  <body   >
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" title="toggle navbar" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Ruslan Osipov</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a rel="index" href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/about">About</a>
                </li>
                <li >
                    <a href="/blog/archive">Archive</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="navbar-form navbar-right" action="https://www.google.com/search" method="GET">
                    <input type="hidden" name="sitesearch" value="www.rosipov.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" role="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="name" content="Ruslan Osipov" />
    
    <meta itemprop="url" content="http://www.rosipov.com" />
      
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2017-01-17T01:11:38+00:00"  data-updated="true" itemprop="datePublished dateCreated">Tue 17 Jan 2017,  1:11 AM</time>
        
           | <a href="/blog/prius-adventures-a-year-later/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://www.rosipov.com/blog/prius-adventures-a-year-later/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/prius-adventures-a-year-later/" itemprop="url">Prius adventures, a year later</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>It&rsquo;s time to write more about my adventures. I&rsquo;ve been traveling and living in my car for nearly a year now, mostly full-time (excluding hotels on infrequent business trips, occasional friends&#8217; couches, or AirBnB a few times I was sick or wanted a home). I&rsquo;d love to share what I&rsquo;ve learned over the past year.</p>

<p><img src="/images/posts/camping-in-california.jpg" title="Camping in California." ></p>

<p>Here&rsquo;s how a typical conversation with someone who just learned I&rsquo;m living in my car goes:</p>

<h2>You live in <em>that?</em></h2>

<p>Yes I do. I think I need to start from the beginning.</p>

<p>About a year ago I wasn&rsquo;t in a very good place emotionally. I&rsquo;ve been going through a divorce, my dream company declined my job application (spoiler: I got the job this year, yay), and my landlord decided that 12 tiny houses on a property isn&rsquo;t enough and it&rsquo;s time to kick everyone out to build a more dense apartment complex. I didn&rsquo;t do much outside of going to work and sleeping.</p>

<p>I think I saw an opportunity to do something drastic with my life, and I decided to take a leap of faith. I gave away everything I couldn&rsquo;t fit in the back of the car, and set on a road trip across continental United States (after spending a month doing test drives and adjusting my setup dozens of times).</p>

<p>The experience turned out to be more enjoyable than having a house.</p>

<h2>How do you even fit in there?!</h2>

<p>Everyone I talk to thinks the space is really cramped up, and I have to sleep curled into a ball in the trunk (or something along those lines).</p>

<p><img src="/images/posts/feet-under-blanket.jpg" title="Pictures make it look really cramped up, but it's rather spacious inside." ></p>

<p>I&rsquo;m 5&#8217;11&#8221;, and I have a flat twin-width bed in that&rsquo;s around 7 feet long (it&rsquo;s been awhile since I measured). I sleep on an inflatable pad wrapped in a sleeping bag, on top of another sleeping bag all wrapped in a silk sleeping bag cover - my composite mattress is about 3 inches thick. I use regular blankets and pillows, adding or removing a few depending on the temperature outside.</p>

<p>It&rsquo;s one of the most comfortable beds I&rsquo;ve ever slept on.</p>

<h2>Poor soul, want to crash on my couch?</h2>

<p>This is an offer I get as soon as somebody learns I&rsquo;m living in a car (it&rsquo;s right up there with &ldquo;You must be saving so much money not paying rent!&rdquo;). Most people are really nice, and offer a place to stay. I think it stems from an understandable notion that one probably would only live in a car because of being in a bad situation.</p>

<p><img src="/images/posts/inside-of-the-car-view-from-the-back.jpg" title="View of the bed from the back of the car." ></p>

<p>Oddly enough I really enjoy the lifestyle, and I always reject the offers (always appreciate them though). Sometimes I contemplate getting a small RV or a van, but I&rsquo;m way to attached to air conditioning on demand and 50 mpg on the highway. But I probably won&rsquo;t need to crash on your couch.</p>

<p>I think the TL;DR here is that majority of people are really nice, once you get out and get to interact with them enough.</p>

<h2>Why on Earth are you still living in a car?</h2>

<p>There&rsquo;s more than one reason at this point. Part of it is that it has become a habit now. The biggest reason is probably all the fun things it has forced me to do.</p>

<p>I&rsquo;ve met a lot of cool people, tried out so many things I would&rsquo;ve never considered trying, and found exciting hobbies I would&rsquo;ve never had otherwise. I&rsquo;m also now in a great shape physically since I usually have to hit up the gym to shower.</p>

<p>It also made me confront my inner demons, since car living tends to consistently provide me with time to be alone with my thoughts - be it driving somewhere, or falling asleep in an area where I wouldn&rsquo;t want to use electronics. I feel more in tune with myself, and I can close my eyes without being afraid of stream of thoughts keeping me awake at night.</p>

<h2>That&rsquo;s cool! What else is inside?</h2>

<p><img src="/images/posts/before-and-after-bike-rack.jpg" title="Bike rack: before and after." ></p>

<h3>The front</h3>

<p>I try to keep driver&rsquo;s seat and front passenger seat area clean and empty, with storing some low key items in passenger seat leg space &ndash; portable 12V vacuum, water jug, water boiler/thermos.</p>

<p>The front seats are separated from the back by a dark curtain. Unless you shine a (powerful) flashlight inside a car it&rsquo;s almost impossible to tell the curtain is there.</p>

<h3>The back</h3>

<p><img src="/images/posts/window-cutout-from-the-inside.jpg" title="In addition to curtains I also have custom-made window cutouts." ></p>

<p>One of the passenger seats is lowered to make a bed. The bed is extended with a wooden panel specifically made for this purpose which creates a flat surface about 7 foot long. A mattress with a blanket and some throws creates /a nice homey look.</p>

<p>Under the bed is &ldquo;the attic&rdquo; &ndash; large clear container where I store winter clothes and things I rarely use. If I&rsquo;m camping extra water jugs go here as well. And some bicycle maintenance stuff, and extra pairs of shoes.</p>

<p>I use the other rear passenger seat as my primary relaxing area when I&rsquo;m inside the car. There&rsquo;s a little trashcan stuck to the floor in between the seats.</p>

<h3>Cargo and the bike</h3>

<p>There&rsquo;s an old suitcase I use for organizing various cooking and camping supplies. It&rsquo;s split into nine compartments by some separators I&rsquo;ve put together. This is where I have some freeze dried veggies, spices, grains and pasta, cooking oils, camping pots and pans, equipment for cleaning the dishes, etc. On top of the suitcase is a backpack where I keep clothes. There&rsquo;s also a propane propane burner, camping table and a chair, as well as a toiletry kit. Dirty laundry goes in a dry bag.</p>

<p><img src="/images/posts/cooking-supplies-in-the-suitcase.jpg" title="Cooking supplies in a suitcase." ></p>

<p>I also have a bike strapped to the outside of the car, exploring places by bike after arriving to a new city is very rewarding!</p>

<h2>Isn&rsquo;t it dangerous?</h2>

<p>You often read stories of people suffocating in their own cars, and it&rsquo;s something to be aware of. There are a few rules I follow to be safe, and there are three main dangers here:</p>

<ol>
<li>Carbon monoxide poisoning.</li>
<li>Carbon dioxide poisoning.</li>
<li>Extreme temperatures.</li>
</ol>


<p>I sleep with carbon monoxide alarm not far from my head, and my car is a hybrid &ndash; meaning it only turns itself on once in a while when batteries need to be recharged. Sometimes I sleep with my car on, and sometimes not. The alarm never went off so far (it works, I check regularly).</p>

<p>Carbon dioxide (stuff you exhale) poisoning is not a silent killer (unlike carbon monoxide), humans are pretty good at detecting high concentration of CO2 &ndash; panic attack on par with a headache are a rather clear sign of this happening. I keep windows cracked open most of the time, plus my AC is often on.</p>

<p>I love sleeping at low temperatures (50-60F is my comfort zone for snuggling up under a blanket), but if local forecast suggests the temperature will drop below 50F at night - I make sure to sleep with AC on. If it&rsquo;s below freezing - I roll up the windows, otherwise I still keep them cracked open a little.</p>

<p>And if it&rsquo;s really cold and I don&rsquo;t want to run AC all night, or I just feel like I want to stay inside for a bit - I can just get AirBnB for a couple of nights. Speaking of, by pure chance I stayed at Gayle Laakmann McDowell&rsquo;s guest house few weeks ago, and I left with great memories and a signed copy of Cracking the Code Interview. Bonus point for meeting cool people.</p>

<h2>How does Prius AC work anyway?</h2>

<p>This question pops up often enough to address here (along with condensation concerns from seasoned vandwellers).</p>

<p>It&rsquo;s a hybrid with two electric motors assisting the internal combustion engine. The electric motors power up from a ~1.3 kWh battery, which is recharged using the engine and regenerative brakes. That battery is connected to the 12V battery, and as long as there&rsquo;s gas in the car &ndash; both batteries will be charged. In practice, if the car isn&rsquo;t moving, engine turns on every half an hour or so for a little under a minute to recharge the batteries.</p>

<p>This allows one to keep the car on and use the AC throughout the night. AC also keeps the moisture level at bay, preventing condensation. I also noticed that when I don&rsquo;t use the AC cracked windows help with condensation (I have rain guards for stealth and keeping the rain out).</p>

<h2>Um, how do you do bathroom stuff?</h2>

<p>If we&rsquo;re talking about changing - there&rsquo;s plenty of space in the back of the car to change.</p>

<p>For hygiene - I use gym showers (I take quite a lot of classes), or wet wipes if I&rsquo;m out camping or shower is otherwise unavailable. I&rsquo;m now kind of an expert on all sorts of wipes. Any restroom works for brushing my teeth at night, and in US it&rsquo;s very difficult not to be within the vicinity of a public bathroom.</p>

<h2>Where do you park at night?</h2>

<p>Rest stops are the best when I travel, since everyone on a rest stop is just resting/sleeping in their car.</p>

<p><img src="/images/posts/prius-lit-up-at-night.jpg" title="Christmas lights make inside more homey." ></p>

<p>There are so many places to park: since this is just a passenger car, anywhere where cars can park is good. Usually somewhere with either a lot of foot traffic (or the exact opposite). Parking lots of 24/7 business, residential areas, anywhere and anytime.</p>

<h2>What do your friends and coworkers say?</h2>

<p>Most colleagues and acquaintances don&rsquo;t know, since it&rsquo;s not really a topic that pops up during a normal conversation. I go to work and social events well groomed, with clean clothes, and (I&rsquo;d like to think) demonstrating a sense of style.</p>

<p>Few friends and colleagues that do know that I live in the car don&rsquo;t see it as anything out of the ordinary (past the initial shock of course). I can&rsquo;t remember the last time conversation got stirred towards car living with any of my close friends. A few are rather jealous but reluctant to make the move. I try not to preach.</p>

<p>My love life surprisingly didn&rsquo;t suffer. Maybe it&rsquo;s because I tend to pursue women just as odd as me, but me living in a car didn&rsquo;t have any negative effects, and even got me a date or two. If someone doesn&rsquo;t want to go out with you because of living arrangements - they would probably not make a good partner in a long run.</p>

<h2>Do strangers bother you?</h2>

<p>When you observe people you start noticing how much everyone&rsquo;s concerned with what people think of them. In fact, most people so concerned with themselves - that they don&rsquo;t look around. Encounters with people who notice I live in a car are nearly non-existent. Nobody cares to look inside one of the hundred cars in a parking lot or parked on the side of the street.</p>

<p>I&rsquo;ve had a few rather friendly encounters with parking lot security, with people usually just demonstrating concern. Until I share my setup that is, then concern is often replacement with mild jealousy.</p>

<p><img src="/images/posts/making-a-meal-at-a-rest-stop.jpg" title="I sometimes make meals at rest stops." ></p>

<p>Most encounters with strangers approaching me happen at rest stops, since I usually don&rsquo;t hide much &ndash; there are enough misfits and travelers. Every encounter like that I&rsquo;ve had was positive, with people commenting on how amazing my setup is, how they wished they could do a similar thing, or sharing a story about their own travels.</p>

<h2>How do you not go crazy?</h2>

<p>This is where the fun part starts. You see, the thing about living in the car is how boring it is. There&rsquo;s really not much you can do in a confined space. So I have to get out of my way to entertain myself.</p>

<p>I take a lot of classes like various martial arts or archery. I tried miniature painting, rock climbing, long distance cycling. There are numerous things I&rsquo;m &ldquo;forced&rdquo; to do in order to keep myself entertained.</p>

<p>There are a lot of things I do inside the car too. Writing or coding (even though I prefer coffee shops), rare indulgence in video games (I recently picked up a gaming laptop for this), guitalele (it&rsquo;s a ukulele-sized guitar), reading. Drawing, keeping a journal, or just relaxing.</p>

<p><img src="/images/posts/laptop-hooked-up-to-the-headrest.jpg" title="I setup laptop at an eye level and use external keyboard." ></p>

<p>And of course there are people. When I travel I end up meeting a lot of different people. I often get invited to join somebody at a campsite, and we&rsquo;d cook a meal together or share some stories. Or somebody sitting next to me in a coffee shop works in the same industry and we grab lunch to mingle and share interesting ideas. Wherever I go I get lucky enough to make friends for a couple of minutes, hours, days, and sometimes months.</p>

<h2>What&rsquo;s next for you?</h2>

<p>For now, I&rsquo;m used to living in a car. I sometimes pop by AirBnBs or friends&#8217; places for a couple of days, but I wouldn&rsquo;t say I enjoy being tied down to a single location for a long period of time.</p>

<p><img src="/images/posts/cycling-by-the-ocean.jpg" title="Cycling on the West Coast is the best." ></p>

<p>I&rsquo;m contemplating getting an RV to be able to stand up inside and have more room and privacy, but potential difficulties with air conditioning at night, atrocious gas mileage, and inefficient and noisy generators for my power usage are a concern of mine.</p>

<p>Once in a while I contemplate getting myself an apartment. Since it&rsquo;s now winter I end up staying in AirBnBs more often, but I feel like having a place to call home makes it harder for me to a fight a lazy person inside me. I like when that person is forced to learn, explore, and create.</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2016-10-09T21:24:26+00:00"  data-updated="true" itemprop="datePublished dateCreated">Sun  9 Oct 2016,  9:24 PM</time>
        
           | <a href="/blog/hackmud-first-impressions/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://www.rosipov.com/blog/hackmud-first-impressions/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/hackmud-first-impressions/" itemprop="url">Hackmud first impressions</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>My Saturday just disappeared, quickly, and barely with any trace. You could find
leftover scripts all over my hard drive here and there, all pointing to Hackmud.
One moment I had plans for the day, and the next it was well past midnight, I
was listening to the 90s hacker movies inspired soundtrack while cracking locks
and farming for credits with a script I crafted.</p>

<p>I&rsquo;ve spent ten hours in game, and it was glorious.</p>

<p><img src="/images/posts/hackmud-startup-logo.png" title="Hackmud startup logo." ></p>

<p>Hackmud is a text-only MUD (multi-user dungeon) set in a not so distant future,
where humanity was wiped out by a combination of Welsh Measels, killer rabbit
outbreak, and multiple other disasters. All that&rsquo;s left is a trace of old
corporations, dead user accounts, and AIs roaming the net. That&rsquo;s you, an AI.</p>

<p>Game has a heavy 90s vibe to it, and the atmosphere reminds me of Ready Player
One. References to popular TV shows and dial up sounds included.</p>

<p>You start in a training area, a vLAN without access to the rest of the network
and other players. You quickly learn all-text interface, and simple bash-like
command line - it&rsquo;s based on JavaScript, with a few syntax changes. Hackmud is
very much a puzzle game, and lets you take your time with a tutorial: you&rsquo;ll
need a few hours to go through all the puzzles, cracking locks, installing
upgrades, learning about security, and finally - escaping vLAN.</p>

<p>Here are some basics I picked up:</p>

<ul>
<li>You can have multiple user accounts within a game, and so can everyone else.
Be on the lookout.</li>
<li>&ldquo;Locs&rdquo; are account locations, something similar to an IP or a domain name. You
can launch an attack against a user or a dead account if you know their loc.</li>
<li>Scripts are just that - scripts written in JavaScript (outside of the game).
Hit <code>#help</code> and Google to get started, but at least some basic programming
background is necessary here.</li>
<li>Locks protect accounts - one can be behind multiple locks. Lock usually
requires you to guess the correct combination, like a color, correct lower
order prime, or a keyword.</li>
<li>Upgrades are installed on user accounts and include locks, script
slots, character limits, etc.</li>
</ul>


<p>At some point I successfully struggled through the tutorial and escaped vLAN.
And that&rsquo;s where the open-ended social nature of the game shines. You&rsquo;re thrown
into a global chat channel with users trying to trick you into running their
malware, players and corporations providing banking services, selling breached
account information, locks, and scripts.</p>

<p>The game encourages lying, betrayal, deception, ponzi schemes, money laundering
- you name it. And players take advantage of such freedoms to the full extent:</p>

<p><img src="/images/posts/hackmud-window-screenshot.png" title="This is how the Hackmud gameplay looks.." ></p>

<p>It looks rather confusing, but tutorial prepares you well for the chaotic flow
of characters on the screen.</p>

<p>I really wasn&rsquo;t sure what to do next. The tutorial taught me how to get money
out of dead accounts, so I decided to try to find one or two. After asking about
in the main channel and being offered a few dozen &ldquo;risk free scripts to get locs
worth millions&rdquo;, I decided to set out on a search. I looked through a list of
<code>scripts.fullsec</code>, and found a few corporations.</p>

<p><img src="/images/posts/hackmud-corporations-screenshot.png" title="Two Hackmud corporations - Macrosoft and Core." ></p>

<p>After digging about in their files for a good few hours, I found a way to get to
employee registry and get a dozen of dead user locs. The locs were protected by
different kinds of locks, and I went through the first batch manually. It took
me a long time to get all the combinations and pull out some cash out of the
accounts.</p>

<p>I found my second batch of locs shortly after, and decided to try automating
some manual attempts through scripting. After struggling with syntax and being
aggravated by having only 120 seconds at a time to crack a lock (in line with
the 90s feel of the game, one needs to be connected to a &ldquo;hardline&rdquo;), I wrote a
first sample script, and started to play around with game concepts.</p>

<p><img src="/images/posts/hackmud-hardline-dial.png" title="Hardline dial screenshot." ></p>

<p>Hackmud is in no way an accurate hacking simulator, but it&rsquo;s a really fun puzzle
game, and it doesn&rsquo;t make any outrageous mistakes. It allows you to write your
own scripts to use in game using valid JavaScript with access to a game library.
Game developer (it&rsquo;s a one person project) implemented his own JavaScript
interpreter, so it has bugs here and there - one should be careful using obscure
language features.</p>

<p>The worst part about scripting was character limitations: one needs quite a bit
of money to be able to install first upgrades, and default limit of one active
script and 500 characters per script is straight-up rage inducing. Before
getting my first 1MGC to finally upgrade my rig, I wrote a bunch of tiny
scripts, one per lock type, struggling to keep to the character limit. I ended
up with ugly monstrosities like this, manually passing results from one script
to another when encountering multiple accounts:</p>

<pre><code>function(o, g) {
  var
    a = {},
    b = "ez_35",
    c = ["open", "release", "unlock"],
    d = "digit",
    r = "",
    s = false,
    t = g.target.call;

  for (var x in g) {
    if (x != "target") {
      a[x] = g[x];
    }
  }

  for (var i = 0; i &lt; c.length; i++) {
    a[b] = c[i];
    r = t(a);
    if (r.indexOf(d) &gt; -1) {
      for (var k = 0; k &lt; 10; k++) {
        a[d] = k
        r = t(a);
        if (r.indexOf(d) == -1) {
          var m = b + ":\"" + a[b] + "\", " + d + ": \"" + a[d] + "\"";
          return { ok:true, msg:r + "\n\n" + m };
        }
      }
    }
  }
  return { ok:s, msg:r };
}
</code></pre>

<p>It was really interesting working with the limitations:</p>

<ul>
<li>I couldn&rsquo;t write scripts longer than 500 characters (spaces not included).</li>
<li>I couldn&rsquo;t have access to one script without unloading the other first.</li>
<li>I had to debug and test the scripts within 120 second windows.</li>
</ul>


<p>Few more batches of locs later, I was finally able to afford to initialize my
system to tier 1 and install upgrades I bought and accumulated from hacking
accounts:</p>

<p><img src="/images/posts/hackmud-upgrades-screenshot.png" title="Installed upgrades." ></p>

<p>Now I can write all the scripts I want! Excited, I built my first t1 (tier 1)
lock breaker, which automatically cracks a loc with any number of t1 locks on
it:</p>

<pre><code>function(context, func_args) { // {target:"#s."}

  var digits = Array();
  for (var i = 0; i &lt; 10; i++) {
    digits.push(i);
  }

  var
    COLORS = [
      "purple", "blue", "cyan", "green", "lime", "yellow", "orange", "red"],
    DIGITS = digits,
    LOCKS = ["open", "release", "unlock"],
    // ez_prime lock seems to only request low order primes, hardcoding this
    PRIMES = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59,
      61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137,
      139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193];

  var hackMultLevels = function(target, args, levels) {
    for (var i = 0; i &lt; levels.length; i++) {
      var
        item = levels[i].item,
        itemDesc = levels[i].itemDesc,
        itemList = levels[i].itemList;
      for (var k = 0; k &lt; itemList.length; k++) {
        args[item] = itemList[k];
        ret = target(args);
        if (ret.indexOf(itemDesc) == -1) {
          break;
        }
      }
    }
    return ret, args;
  }

  var hackEz21 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "ez_21", itemDesc: "command", itemList: LOCKS }
      ]);
  };

  var hackEz35 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "ez_35", itemDesc: "command", itemList: LOCKS },
        { item: "digit", itemDesc: "digit", itemList: DIGITS }
      ]);
  };

  var hackEz40 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "ez_40", itemDesc: "command", itemList: LOCKS },
        { item: "ez_prime", itemDesc: "prime", itemList: PRIMES }
      ]);
  };

  var hackC001 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "c001", itemDesc: "correct", itemList: COLORS },
        { item: "color_digit", itemDesc: "digit", itemList: DIGITS }
      ]);
  }

  var hackC002 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "c002", itemDesc: "correct", itemList: COLORS },
        { item: "c002_complement", itemDesc: "complement", itemList: COLORS }
      ]);
  }

  var hackC003 = function(target, args) {
    return hackMultLevels(
      target,
      args,
      [
        { item: "c003", itemDesc: "correct", itemList: COLORS },
        { item: "c003_triad_1", itemDesc: "first", itemList: COLORS },
        { item: "c003_triad_2", itemDesc: "second", itemList: COLORS }
      ]);
  }

  var
    args = {},
    i = 0,
    locks = [
      { name: "EZ_21", func: hackEz21 },
      { name: "EZ_35", func: hackEz35 },
      { name: "EZ_40", func: hackEz40 },
      { name: "c001", func: hackC001 },
      { name: "c002", func: hackC002 },
      { name: "c003", func: hackC003 }
    ],
    ret = "",
    target = func_args.target.call,
    unlocked = [];

  ret = target(args);

  while (true) {
    i++;
    var flag = true;

    for (var k = 0; k &lt; locks.length; k++) {
      if (ret.indexOf(locks[k].name) &gt; -1 &amp;&amp;
          unlocked.indexOf(locks[k].name) == -1) {
        ret,  args = locks[k].func(target, args);
        unlocked.push(locks[k].name);
        flag = false;
      }
    }

    if (flag === true) {
      return { ok: true, msg: ret };
    }

    if (i &gt; 10) {
      return { ok: false, msg: ret }
    }
  }
}
</code></pre>

<p>Rather rough around the edges, not easiest to read, but it works - and I was
really proud of finishing it (and too tired to go back and refactor). With this,
next dozen of t1 locs took me a few minutes to crack open. Success!</p>

<p>That was the logical conclusion of my Saturday, and left me feel really
satisfied. The game is rough around the edges, and has numerous bugs here and
there. But the text-only world of Hackmud is alive and atmospheric, and puzzles
and exploration of the derelict world through randomly-generated documents pulls
you in, making you lose track of time.</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2016-10-05T18:12:59+00:00"  data-updated="true" itemprop="datePublished dateCreated">Wed  5 Oct 2016,  6:12 PM</time>
        
           | <a href="/blog/a-year-with-pebble-time-round/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://www.rosipov.com/blog/a-year-with-pebble-time-round/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/a-year-with-pebble-time-round/" itemprop="url">A year with Pebble Time Round</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p><em>Disclaimer: This post was <strong>not</strong> endorsed by Pebble, nor I am affiliated with
Pebble.</em></p>

<p>About a year ago I&rsquo;ve tried out almost all wearables Pebble had to offer at a
time - the original, Pebble Time, and my favorite - Pebble Time Round. I
wouldn&rsquo;t call myself a fanboy, but Pebble watches are pretty damn great.</p>

<p><img src="/images/posts/pebble-time-round.jpg" title="Pebble Time Round watch on a wrist." ></p>

<p>Back then I was on a market for a smartwatch - something stylish, inexpensive,
and durable, to show time and notifications. After some research I immediately
ruled out all other wearables on the market: some were too much centered around
fitness (not my market), and some tried to put a computer with a tiny screen on
your hand (I&rsquo;m looking at you, Apple and Google). I wasn&rsquo;t interested in either,
and I was charmed with simplicity of Pebble.</p>

<p>First, I&rsquo;ve gotten <a href="http://amzn.to/2dTaEoR">the original Pebble</a>. I was blown away by the battery
life which neared two weeks, beautiful minimalist design, and the absence of
touch screen. The last one is probably the main reason why I&rsquo;m still using
Pebble.</p>

<p>It&rsquo;s a watch, it has a tiny screen the size of my thumb. How am I supposed to
control it with gestures with 100% accuracy? Unlike with a phone, I interact
with my watch often during more demanding activities - cycling, running, gym,
meeting, etc. Having physical buttons doesn&rsquo;t require me to look at a screen as
I perform an action (quick glance to read a notification is enough - I can reply
or dismiss without having to look at the watch again).</p>

<p>After using the original pebble for a few weeks I was curious to try out <a href="http://amzn.to/2e38eXO">Pebble
Time</a>. I enjoyed having colorful display, the battery life was almost as
long, and the watch felt smaller than the original one. It was a decent choice,
but still couldn&rsquo;t help but feel like a square digital watch doesn&rsquo;t fit my
style.</p>

<p>That&rsquo;s when I decided to try out <a href="http://amzn.to/2dfCN8B">Pebble Time Round</a>. It&rsquo;s the smallest of
the three, and definitely one of the thinnest smartwatches available (at only
7.5 mm). I went for a silver model with a 14 mm strap. Initially there was a
lack of affordable straps, but after some time <a href="https://www.gadgetwraps.com/">GadgetWraps</a> filled in that
niche.</p>

<p>It&rsquo;s been a year now, and it&rsquo;s still going strong. Pebble Time Round (or PTR as
people call it) doesn&rsquo;t have the longest battery life, averaging at about 2 days
until hitting the low power mode (when Pebble watches run low on juice they only
display time). I usually charge it daily, since charging 56 mAh battery doesn&rsquo;t
take long (it gets a full day of use from 15 a minute charge).</p>

<p>PTR is much more a watch than anything else: it looks good, and it shows time.
All the necessary things are available at a glance - calendar, notifications,
texts, weather, music controls, timers and alarms. I use voice dictation to send
out an occasional text.</p>

<p>I work in a corporate setting, with sometimes difficult to manage number of
meetings, constant Hangouts pings, and a stream of emails. Pebble helps me
easily navigate hectic daily routine without having to pull up my phone or my
laptop to look up the next conference room, meeting attendees, or reply to a
quick ping.</p>

<p>Due to app marketplace similar to Google Play Store (with most if not all the
apps and watchfaces free) I find it easy to customize Pebble based on a
situation I&rsquo;m in. I&rsquo;m traveling and need to be able to pull up my flight?
Check. Need to call an Uber from my wrist? Check. Get walking directions? Check.</p>

<p>To my delight Pebble as a platform is rather close to Linux ideology. Pebble
apps are modular and tend to focus on one thing and do one thing well.</p>

<p>Recently a <a href="https://www.kickstarter.com/projects/597507018/pebble-2-time-2-and-core-an-entirely-new-3g-ultra">Kickstarter for Pebble 2</a> has been announced. It&rsquo;s rather
unfortunate PTR is not getting an updated version, but to be honest it doesn&rsquo;t
really need to. It&rsquo;s a fantastic combination of hardware and software which
fills in a specific niche: a stylish smartwatch for displaying relevant chunks
of information.</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2016-10-02T00:15:12+00:00"  data-updated="true" itemprop="datePublished dateCreated">Sun  2 Oct 2016, 12:15 AM</time>
        
           | <a href="/blog/mob-level-distribution/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://www.rosipov.com/blog/mob-level-distribution/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/mob-level-distribution/" itemprop="url">Mob level distribution</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>Distributing mobs in a dungeon based on player&rsquo;s level (or some dungeon level
difficulty factor) was somewhat straightforward, but I would still like to
document the progress. I needed to place a mob that&rsquo;s somewhat within the
difficulty level I want, plus minus a few difficulty levels to spice it up.</p>

<p><img src="/images/posts/roguelike-leveled-mob-distribution.png" title="Random mob distribution in roguelike dungeon." ></p>

<p>Above you can see three rats, three cats, a dog (<code>r</code>, <code>c</code>, <code>d</code>, all level 1), a
farmer (<code>f</code>, level 2), and a lonely bandit (<code>b</code>, level 3) in a level 1 dungeon.</p>

<p>Without going straight into measure theory, I generated intervals for each mob
based on the diff of desired level and their level, and then randomly selected a
point within the boundaries. Here&rsquo;s the abstract code:</p>

<pre><code>import bisect
import random


def get_random_element(data, target, chance):
    """Get random element from data set skewing towards target.

    Args:
        data   -- A dictionary with keys as elements and values as weights.
                  Duplicates are allowed.
        target -- Target weight, results will be skewed towards target
                  weight.
        chance -- A float 0..1, a factor by which chance of picking adjacent
                  elements decreases (i.e, with chance 0 we will always
                  select target element, with chance 0.5 probability of
                  selecting elements adjacent to target are halved with each
                  step).

    Returns:
        A random key from data with distribution respective of the target
        weight.
    """
    intervals = []  # We insert in order, no overlaps.
    next_i = 0
    for element, v in data.iteritems():
        d = max(target, v) - min(target, v)
        size = 100
        while d &gt; 0:  # Decrease chunk size for each step of `d`.
            size *= chance
            d -= 1
        if size == 0:
            continue
        size = int(size)
        intervals.append((next_i, next_i + size, element))
        next_i += size + 1
    fst, _, _ = zip(*intervals)
    rnd = random.randint(0, next_i - 1)
    idx = bisect.bisect(fst, rnd)  # This part is O(log n).
    return intervals[idx - 1][2]
</code></pre>

<p>Now, if I test the above for, say, a 1000000 iterations, with a chance of 0.5
(halving probability of selecting adjacent elements with each step), and 2 as a
target, here&rsquo;s the distribution I end up with:</p>

<pre><code>target, chance, iterations = 2, 0.5, 1000000

data = collections.OrderedDict([  # Ordered to make histogram prettier.
    ('A', 0), ('B-0', 1), ('B-1', 1), ('C', 2), ('D', 3), ('E', 4),
    ('F', 5), ('G', 6), ('H', 7), ('I', 8), ('J', 9),
])

res = collections.OrderedDict([(k, 0) for k, _ in data.iteritems()])

# This is just a test, so there's no need to optimize this for now.
for _ in xrange(iterations):
    res[get_random_element(data, target, chance)] += 1

pyplot.bar(
    range(len(res)), res.values(), width=0.7, align='center', color='green')
pyplot.xticks(range(len(res)), res.keys())
pyplot.title(
    'iterations={}, target={}, chance={}'.format(
        iterations, target, chance))
pyplot.show()
</code></pre>

<p><img src="/images/posts/roguelike-mob-distribution-chance-05.png" title="Distribution histogram: 1000000 iterations, 0.5 chance, and 2 as a target." ></p>

<p>You can see elements B-0 and B-1 having roughly the same distribution, since
they have the same weight.</p>

<p>Now, if I decrease the <code>chance</code>, likelihood of target being selected increases,
while likelihood of surrounding elements being selected decreases:</p>

<p><img src="/images/posts/roguelike-mob-distribution-chance-033.png" title="Distribution histogram: 1000000 iterations, 0.33 chance, and 2 as a target." ></p>

<p>I works the opposite way as well, increasing the <code>chance</code> decreases likelihood
of the target being selected and increases the probability for surrounding
elements.</p>

<p><img src="/images/posts/roguelike-mob-distribution-chance-09.png" title="Distribution histogram: 1000000 iterations, 0.9 chance, and 2 as a target." ></p>

<p>For the sake of completeness, it works with 0 chance of surrounding elements being picked:</p>

<p><img src="/images/posts/roguelike-mob-distribution-chance-0.png" title="Distribution histogram: 1000000 iterations, 0 chance, and 2 as a target." ></p>

<p>And an equal chance of picking surrounding elements:</p>

<p><img src="/images/posts/roguelike-mob-distribution-chance-1.png" title="Distribution histogram: 1000000 iterations, 1 chance, and 2 as a target." ></p>

<p>After playing around with the configuration in Jupyter Notebook, I cleaned up
the algorithm above and included it into mob placement routine.</p>
</div>
  
  


        </article>
      
      
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2016-09-30T18:06:16+00:00"  data-updated="true" itemprop="datePublished dateCreated">Fri 30 Sep 2016,  6:06 PM</time>
        
           | <a href="/blog/spawning-evenly-distributed-mobs/#disqus_thread" itemprop="discussionUrl"
             data-disqus-identifier="http://www.rosipov.com/blog/spawning-evenly-distributed-mobs/">Comments</a>
        
      </p>
    
    
      <h2 class="entry-title" itemprop="name headline"><a href="/blog/spawning-evenly-distributed-mobs/" itemprop="url">Spawning evenly distributed mobs</a></h2>
    
  </header>


  <div class="entry-content clearfix" itemprop="articleBody description"><p>After generating a few <a href="http://www.rosipov.com/blog/randomly-generated-dungeons/">good looking random dungeons</a>, I was puzzled with
randomly placing mobs on resulting maps. To make it fair (and fun) for the
player mobs should be evenly distributed.</p>

<p><img src="/images/posts/dungeon-mob-placement.png" title="Dungeon with randomly placed mobs." ></p>

<p>The obvious idea was to pick coordinates randomly within the rectangular map
boundaries, and then place mobs if they have floor underneath them. But this way
I lose control of the number of mobs and risk having a chance of not placing any
mobs at all. Plus, dungeons with bigger surface area would get more mobs - which
sounds somewhat realistic, but not entirely what I was aiming for.</p>

<p>I could improve on the above by rerunning enemy placement multiple times and
select the most favorable outcome - but the solution would be rather naive.</p>

<p>To have control over the number of mobs I decided to place them as I generate
the rooms of the dungeon. There&rsquo;s a trick one can use to get a random element
with equal probability distribution from a sequence of an unknown size:</p>

<pre><code>import random


def get_random_element(sequence):
    """Select a random element from a sequence of an unknown size."""
    selected = None
    for k, element in enumerate(sequence):
        if random.randint(0, k) == 0:
            selected = element
    return selected
</code></pre>

<p>With each iteration the chance of the current element to become a selected item
is 1 divided by number of elements seen so far. Indeed, a probability of an
element being selected out of a 4-item sequence:</p>

<pre><code>1 * (1 - 1/2) * (1 - 1/3) * (1 - 1/4) = 1/2 * 2/3 * 3/4 = 6/30 = 1/4 
</code></pre>

<p>Now all I had to do is to modify this to account for multiple mob placement.
Here&rsquo;s a generalized function above which accounts for selecting <code>n</code> elements
from the sequence with even distribution.</p>

<pre><code>import random


def get_random_element(sequence, n):
    """Select n random elements from a sequence of an unknown size."""
    selected = [None for _ in range(n)]
    for k, element in enumerate(sequence):
        for i in range(n):
            if random.randint(0, k) == 0:
                selected[i] = element
    return selected
</code></pre>

<p>I incorporated logic above into the room generation code, accounted for
duplicates, and ended up with decent distribution results.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/posts/2">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archive">Blog Archive</a></li>
      
        <li class="next disabled"><a href="#">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/blog/prius-adventures-a-year-later/">Prius adventures, a year later</a>
    
    <a class="list-group-item " href="/blog/hackmud-first-impressions/">Hackmud first impressions</a>
    
    <a class="list-group-item " href="/blog/a-year-with-pebble-time-round/">A year with Pebble Time Round</a>
    
    <a class="list-group-item " href="/blog/mob-level-distribution/">Mob level distribution</a>
    
    <a class="list-group-item " href="/blog/spawning-evenly-distributed-mobs/">Spawning evenly distributed mobs</a>
    
    <a class="list-group-item " href="/blog/randomly-generated-dungeons/">Randomly generated dungeons</a>
    
    <a class="list-group-item " href="/blog/browsing-mssql-and-vertica-from-cli/">Browsing MSSQL and Vertica from CLI</a>
    
    <a class="list-group-item " href="/blog/thoughts-on-travel/">Thoughts on travel</a>
    
    <a class="list-group-item " href="/blog/living-in-a-car-for-5000-miles/">Living in a car for 5000 miles</a>
    
    <a class="list-group-item " href="/blog/prius-camper-conversion/">Prius camper conversion</a>
    
  </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2017 - Ruslan Osipov<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'rosipov';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




  </body>
</html>
